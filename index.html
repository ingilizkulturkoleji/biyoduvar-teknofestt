<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="description" content="Bƒ∞YODUVAR ‚Äî Sens√∂r kontroll√º, bitki tabanlƒ± aktif hava kalitesi iyile≈ütirme sistemi.">
  <meta name="theme-color" content="#0b0f16" />
  <title>Bƒ∞YODUVAR | Bilim Ka≈üifleri</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&family=Rajdhani:wght@500;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#0b0f16;
      --bg2:#0f1624;
      --card: rgba(255,255,255,0.045);
      --card2: rgba(255,255,255,0.06);
      --stroke: rgba(255,255,255,0.10);
      --stroke2: rgba(255,255,255,0.14);
      --text:#f4f6ff;
      --muted: rgba(244,246,255,0.68);
      --muted2: rgba(244,246,255,0.46);

      --g:#48bb78;
      --b:#4aa3ff;
      --r:#ff5b7a;
      --y:#ffd166;

      --wood:#9a7b6c;
      --wood2:#6b4f45;

      --max: 1140px;
      --radius: 22px;

      --shadow: 0 18px 55px rgba(0,0,0,0.55);
      --shadow2: 0 10px 25px rgba(0,0,0,0.35);

      --blur: blur(18px);
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: Montserrat, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
      color:var(--text);
      background: radial-gradient(1200px 900px at 10% -10%, rgba(72,187,120,0.12), transparent 60%),
                  radial-gradient(1000px 800px at 95% 15%, rgba(74,163,255,0.11), transparent 55%),
                  radial-gradient(900px 700px at 70% 120%, rgba(255,91,122,0.08), transparent 55%),
                  linear-gradient(180deg, var(--bg), var(--bg2) 70%, var(--bg));
      overflow-x:hidden;
      scroll-behavior:smooth;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* Ambient canvas */
    #air{ position:fixed; inset:0; width:100%; height:100%; z-index:0; pointer-events:none; opacity:.75; }
    .grain{
      position:fixed; inset:0; z-index:1; pointer-events:none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='120' height='120' filter='url(%23n)' opacity='.18'/%3E%3C/svg%3E");
      mix-blend-mode: overlay;
      opacity:.16;
    }

    /* Progress */
    .progress{ position:fixed; top:0; left:0; width:100%; height:4px; z-index:1000; }
    .progress span{
      display:block; height:100%; width:0%;
      background: linear-gradient(90deg, var(--g), var(--b), var(--r));
      box-shadow: 0 0 24px rgba(72,187,120,0.35);
      transition: width .08s linear;
    }

    /* Layout */
    .container{ width:min(var(--max), calc(100% - 40px)); margin:0 auto; position:relative; z-index:2; }
    section{ padding: 92px 0; }
    @media (max-width: 900px){ section{ padding: 70px 0; } }
    @media (max-width: 520px){ section{ padding: 60px 0; } }

    /* Headings */
    .kicker{
      display:inline-flex;
      align-items:center;
      gap:10px;
      font-size: 12px;
      font-weight: 800;
      letter-spacing: 2.4px;
      text-transform: uppercase;
      color: rgba(255,255,255,0.82);
      margin-bottom: 14px;
    }
    .kicker::before{
      content:"";
      width: 14px; height: 14px;
      border-radius: 6px;
      background: linear-gradient(135deg, rgba(72,187,120,0.9), rgba(74,163,255,0.9));
      box-shadow: 0 0 20px rgba(74,163,255,0.25);
      opacity:.9;
    }

    h1,h2,h3{ margin:0; }
    h1{
      font-family: Rajdhani, sans-serif;
      font-weight: 700;
      letter-spacing: .5px;
      text-transform: uppercase;
      font-size: clamp(38px, 6.4vw, 78px);
      line-height: 1.02;
      margin: 10px 0 14px;
    }
    h2{
      font-family: Rajdhani, sans-serif;
      font-weight: 700;
      font-size: clamp(26px, 4.6vw, 40px);
      line-height:1.15;
      margin-bottom: 14px;
    }
    h3{
      font-family: Rajdhani, sans-serif;
      font-weight: 700;
      font-size: 22px;
      line-height:1.2;
      margin-bottom: 10px;
    }
    .lead{
      color: var(--muted);
      font-weight: 300;
      font-size: clamp(15px, 2.1vw, 19px);
      line-height:1.7;
      max-width: 70ch;
      margin: 0;
    }

    /* Nav */
    .nav{
      position:fixed;
      top:18px;
      left:50%;
      transform:translateX(-50%);
      width:min(var(--max), calc(100% - 26px));
      z-index: 900;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(10,14,22,0.62);
      backdrop-filter: var(--blur);
      -webkit-backdrop-filter: var(--blur);
      box-shadow: 0 18px 55px rgba(0,0,0,0.55);
      padding: 10px 14px;
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:10px;
      cursor:pointer;
      user-select:none;
      white-space: nowrap;
    }
    .brand-badge{
      width:34px; height:34px;
      border-radius: 12px;
      background: radial-gradient(18px 18px at 30% 30%, rgba(255,255,255,0.18), transparent 60%),
                  linear-gradient(135deg, rgba(72,187,120,0.75), rgba(74,163,255,0.75));
      box-shadow: 0 0 26px rgba(74,163,255,0.20);
      border: 1px solid rgba(255,255,255,0.16);
    }
    .brand-name{
      font-family: Rajdhani, sans-serif;
      font-weight: 800;
      letter-spacing: 1px;
      font-size: 19px;
      color: var(--text);
    }
    .brand-name span{ color: var(--g); }

    .nav-actions{ display:flex; align-items:center; gap:10px; }

    .nav-links{
      display:flex;
      align-items:center;
      gap: 6px;
      flex-wrap:wrap;
    }
    .nav-links a{
      text-decoration:none;
      color: rgba(244,246,255,0.70);
      font-size: 12.5px;
      font-weight: 600;
      padding: 8px 12px;
      border-radius: 999px;
      transition: .2s ease;
      border: 1px solid transparent;
      white-space: nowrap;
    }
    .nav-links a:hover{
      color: #fff;
      border-color: rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.05);
    }

    .chip-btn{
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.04);
      color: #fff;
      border-radius: 999px;
      padding: 8px 12px;
      font-weight: 800;
      font-size: 11px;
      letter-spacing: .9px;
      cursor:pointer;
      transition:.2s ease;
      user-select:none;
      display:inline-flex;
      align-items:center;
      gap:8px;
      white-space: nowrap;
    }
    .chip-btn:hover{
      border-color: rgba(255,255,255,0.20);
      background: rgba(255,255,255,0.06);
      transform: translateY(-1px);
    }
    .chip-btn:active{ transform: translateY(0); }

    .hamburger{
      width: 40px; height: 40px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.04);
      display:none;
      align-items:center;
      justify-content:center;
      cursor:pointer;
      transition:.2s ease;
      user-select:none;
    }
    .hamburger:hover{ background: rgba(255,255,255,0.06); border-color: rgba(255,255,255,0.20); }
    .hamburger .bars{ width: 16px; height: 12px; position:relative; }
    .hamburger .bars span{
      position:absolute; left:0; right:0; height:2px; border-radius:2px;
      background: rgba(244,246,255,0.85);
      transition: .2s ease;
    }
    .hamburger .bars span:nth-child(1){ top:0; }
    .hamburger .bars span:nth-child(2){ top:5px; opacity:.9; }
    .hamburger .bars span:nth-child(3){ top:10px; opacity:.8; }

    .drawer-overlay{
      position:fixed; inset:0; z-index:950;
      background: rgba(0,0,0,0.55);
      display:none;
    }
    .drawer{
      position:fixed; top:0; right:0; height:100%; width:min(360px, 86vw);
      z-index: 960;
      transform: translateX(110%);
      transition: transform .25s ease;
      border-left: 1px solid rgba(255,255,255,0.12);
      background: rgba(10,14,22,0.72);
      backdrop-filter: var(--blur);
      -webkit-backdrop-filter: var(--blur);
      padding: 18px;
      display:flex;
      flex-direction:column;
      gap: 10px;
    }
    .drawer .row{
      display:flex; align-items:center; justify-content:space-between;
      padding-bottom: 10px;
      border-bottom: 1px solid rgba(255,255,255,0.10);
      margin-bottom: 6px;
    }
    .drawer a{
      text-decoration:none;
      color: rgba(244,246,255,0.82);
      font-weight: 700;
      padding: 12px 12px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.03);
      transition:.2s ease;
    }
    .drawer a:hover{
      border-color: rgba(255,255,255,0.18);
      background: rgba(255,255,255,0.05);
    }
    .drawer small{ color: var(--muted2); }

    .drawer-open .drawer-overlay{ display:block; }
    .drawer-open .drawer{ transform: translateX(0); }

    @media (max-width: 1020px){
      .nav-links{ display:none; }
      .hamburger{ display:flex; }
      .nav{ padding: 10px 12px; }
    }

    /* Hero */
    .hero{ padding-top: 150px; padding-bottom: 40px; }
    .heroGrid{
      display:grid;
      grid-template-columns: 1.12fr 0.88fr;
      gap: 42px;
      align-items:center;
    }
    @media (max-width: 980px){
      .hero{ padding-top: 140px; }
      .heroGrid{ grid-template-columns: 1fr; text-align:center; }
    }

    .hero-tags{ display:flex; gap:10px; flex-wrap:wrap; margin: 8px 0 18px; }
    .tag{
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.04);
      color: rgba(244,246,255,0.86);
      border-radius: 999px;
      padding: 6px 12px;
      font-weight: 700;
      font-size: 11px;
      letter-spacing: .6px;
      display:inline-flex;
      align-items:center;
      gap:8px;
      white-space: nowrap;
    }
    .tag.green{ border-color: rgba(72,187,120,0.25); background: rgba(72,187,120,0.08); }
    .tag.blue{ border-color: rgba(74,163,255,0.25); background: rgba(74,163,255,0.08); }
    .tag .dot{
      width:8px; height:8px; border-radius:99px;
      background: linear-gradient(135deg, var(--g), var(--b));
      box-shadow: 0 0 14px rgba(74,163,255,0.25);
    }

    .cta-row{ display:flex; gap:12px; margin-top: 26px; flex-wrap:wrap; }
    @media (max-width: 980px){ .cta-row{ justify-content:center; } }

    .btn{
      appearance:none;
      border:none;
      cursor:pointer;
      border-radius: 14px;
      padding: 12px 18px;
      font-weight: 900;
      letter-spacing: .6px;
      font-size: 12px;
      text-transform: uppercase;
      display:inline-flex;
      align-items:center;
      gap:10px;
      transition: .2s ease;
      user-select:none;
      white-space: nowrap;
    }
    .btn.primary{
      color: #06110b;
      background: linear-gradient(135deg, rgba(72,187,120,0.92), rgba(74,163,255,0.85));
      box-shadow: 0 12px 30px rgba(74,163,255,0.18);
    }
    .btn.primary:hover{ transform: translateY(-1px); filter: brightness(1.02); }
    .btn.secondary{
      color: rgba(244,246,255,0.92);
      background: rgba(255,255,255,0.04);
      border: 1px solid rgba(255,255,255,0.14);
    }
    .btn.secondary:hover{ transform: translateY(-1px); border-color: rgba(255,255,255,0.22); background: rgba(255,255,255,0.06); }
    .btn:active{ transform: translateY(0); }

    /* Cards / grids */
    .grid{ display:grid; grid-template-columns: repeat(3, 1fr); gap: 18px; margin-top: 30px; }
    @media (max-width: 1000px){ .grid{ grid-template-columns: 1fr; } }

    .card{
      border-radius: var(--radius);
      background: radial-gradient(900px 260px at 30% 0%, rgba(255,255,255,0.05), transparent 60%),
                  linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.03));
      border: 1px solid rgba(255,255,255,0.10);
      box-shadow: var(--shadow2);
      padding: 26px;
      position:relative;
      overflow:hidden;
      transition: transform .22s ease, border-color .22s ease, background .22s ease;
    }
    .card:hover{
      transform: translateY(-3px);
      border-color: rgba(255,255,255,0.16);
      background: radial-gradient(900px 260px at 30% 0%, rgba(255,255,255,0.065), transparent 60%),
                  linear-gradient(180deg, rgba(255,255,255,0.05), rgba(255,255,255,0.03));
    }
    .card .icon{
      width: 46px; height: 46px;
      border-radius: 16px;
      display:flex; align-items:center; justify-content:center;
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.10);
      margin-bottom: 14px;
      box-shadow: 0 0 30px rgba(74,163,255,0.12);
      font-size: 22px;
    }
    .muted{ color: var(--muted); font-size: 14px; line-height:1.75; margin:0; }
    .subtle{ color: var(--muted2); font-size: 12px; line-height:1.65; margin:0; }

    /* Tech split */
    .split{
      display:grid;
      grid-template-columns: 1.12fr 0.88fr;
      gap: 20px;
      align-items: start;
      margin-top: 26px;
    }
    @media (max-width: 1000px){ .split{ grid-template-columns: 1fr; } }

    .list{
      display:flex; flex-direction:column; gap: 12px;
      padding:0; margin:0;
      list-style:none;
    }
    .list li{
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.035);
      padding: 18px 18px;
    }
    .list li strong{
      display:block;
      font-family: Rajdhani, sans-serif;
      font-size: 19px;
      letter-spacing:.3px;
      color:#fff;
      margin-bottom: 6px;
    }
    .sidecard{
      position:sticky;
      top: 96px;
    }
    @media (max-width:1000px){ .sidecard{ position:relative; top:auto; } }

    /* Visual panel */
    .panel-wrap{
      width: min(460px, 92%);
      margin: 0 auto;
      position:relative;
      filter: drop-shadow(0 25px 65px rgba(0,0,0,0.65));
    }
    .panel-sheen{
      position:absolute; inset:-20px -20px -20px -20px;
      background: radial-gradient(420px 220px at 25% 10%, rgba(74,163,255,0.10), transparent 60%),
                  radial-gradient(380px 200px at 80% 30%, rgba(72,187,120,0.10), transparent 65%),
                  radial-gradient(520px 260px at 50% 110%, rgba(255,91,122,0.10), transparent 60%);
      z-index:0;
      pointer-events:none;
      opacity:.9;
    }

    .panel{
      position:relative;
      z-index:1;
      aspect-ratio: 3/4.5;
      border-radius: 16px 16px 10px 10px;
      border: 10px solid rgba(154,123,108,0.95);
      background:
        radial-gradient(900px 300px at 30% 0%, rgba(255,255,255,0.05), transparent 60%),
        radial-gradient(circle at 60% 25%, rgba(74,163,255,0.09), transparent 45%),
        linear-gradient(180deg, rgba(25,28,38,0.95), rgba(13,16,24,0.98));
      overflow:hidden;
      box-shadow: var(--shadow);
    }
    .panel::before{
      content:"";
      position:absolute; left:50%; top:-44px;
      transform: translateX(-50%);
      border-left: 230px solid transparent;
      border-right: 230px solid transparent;
      border-bottom: 44px solid rgba(154,123,108,0.95);
      filter: drop-shadow(0 10px 15px rgba(0,0,0,0.35));
    }

    .panel-top{
      height: 12%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 12px 16px;
      border-bottom: 3px solid rgba(107,79,69,0.85);
      background: linear-gradient(180deg, rgba(30,34,46,0.90), rgba(22,25,35,0.92));
      position:relative;
    }
    .lcd{
      width: 88%;
      border-radius: 12px;
      padding: 10px 14px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(0,0,0,0.55);
      display:flex; align-items:center; justify-content:space-between;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      color: rgba(78,255,147,0.95);
      text-shadow: 0 0 12px rgba(78,255,147,0.18);
      font-weight: 800;
      font-size: 12px;
      letter-spacing:.3px;
    }
    .lcd b{ color: rgba(78,255,147,0.95); }

    .panel-mid{
      height: 68%;
      position:relative;
      padding: 10px 10px 0;
      display:flex;
      flex-direction:column;
      justify-content:space-evenly;
    }
    .shelf{
      position:relative;
      height: 8px;
      border-radius: 8px;
      background: rgba(107,79,69,0.92);
      box-shadow: 0 10px 18px rgba(0,0,0,0.35);
      margin: 0 8px;
    }
    .felt{
      position:absolute;
      left: 7%;
      width: 86%;
      bottom: 8px;
      height: 50px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.10);
      background:
        repeating-linear-gradient(45deg, rgba(62,39,35,0.95) 0, rgba(62,39,35,0.95) 3px, rgba(78,52,46,0.95) 3px, rgba(78,52,46,0.95) 6px);
      box-shadow: inset 0 0 18px rgba(0,0,0,0.55);
    }
    .plant-row{
      position:absolute;
      left: 7%;
      width: 86%;
      bottom: 10px;
      display:flex;
      justify-content: space-around;
      align-items:flex-end;
      z-index: 3;
    }
    .plant{
      width: 40px; height: 42px;
      position:relative;
      filter: drop-shadow(0 6px 12px rgba(0,0,0,0.35));
    }
    .leaf{
      position:absolute; bottom:0;
      width: 12px; height: 22px;
      border-radius: 0 12px 0 12px;
      background: rgba(72,187,120,0.95);
      transform-origin: bottom center;
    }
    .plant:nth-child(odd) .leaf{ background: rgba(88,210,126,0.95); }
    .leaf.l1{ left:4px; transform: rotate(-18deg); height: 18px; opacity:.95; }
    .leaf.l2{ left:14px; transform: rotate(0deg); height: 26px; bottom:2px; }
    .leaf.l3{ right:4px; transform: rotate(18deg); height: 18px; opacity:.92; }

    .water-strip{
      position:absolute;
      right: 10px;
      top: 0; bottom: 0;
      width: 4px;
      border-radius: 8px;
      background: linear-gradient(180deg, rgba(74,163,255,0.75), transparent);
      opacity: 0.45;
      animation: flowDown 2s linear infinite;
    }
    @keyframes flowDown{ 0%{ background-position: 0 0; } 100%{ background-position: 0 120px; } }

    .panel-bot{
      height: 20%;
      position:relative;
      border-top: 4px solid rgba(107,79,69,0.85);
      background: linear-gradient(180deg, rgba(74,163,255,0.10), rgba(74,163,255,0.18));
      overflow:hidden;
    }
    .water{
      position:absolute;
      left:0; right:0; bottom:0;
      height: 76%;
      background: rgba(74,163,255,0.32);
      border-top: 1px solid rgba(255,255,255,0.18);
      animation: waterLevel 5s ease-in-out infinite;
    }
    @keyframes waterLevel{ 0%,100%{ height: 76%; } 50%{ height: 80%; } }

    .pump{
      position:absolute;
      left: 12px; bottom: 10px;
      width: 64px; height: 42px;
      border-radius: 12px;
      background: rgba(0,0,0,0.55);
      border: 1px solid rgba(255,255,255,0.12);
      display:flex; align-items:center; justify-content:center;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 11px; font-weight: 900;
      color: rgba(244,246,255,0.68);
    }

    .solar{
      position:absolute;
      top: -18px;
      right: -22px;
      width: 118px;
      height: 74px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.16);
      background:
        radial-gradient(20px 20px at 30% 20%, rgba(255,255,255,0.18), transparent 60%),
        linear-gradient(135deg, rgba(20,33,106,0.95), rgba(34,52,160,0.90));
      box-shadow: 18px 18px 40px rgba(0,0,0,0.55);
      transform: rotate(-10deg) skewX(-4deg);
      z-index: 10;
      padding: 6px;
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 3px;
    }
    .cell{ border-radius: 4px; background: rgba(255,255,255,0.14); border: 1px solid rgba(255,255,255,0.10); }

    .hotspot{
      position:absolute;
      width: 28px; height: 28px;
      border-radius: 999px;
      display:flex; align-items:center; justify-content:center;
      cursor:pointer;
      z-index: 20;
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(255,255,255,0.12);
      box-shadow: 0 0 0 rgba(255,255,255,0.35);
      animation: pulse 2.2s infinite;
      user-select:none;
      font-weight: 900;
      color:#fff;
    }
    .hotspot:hover{ transform: scale(1.07); }
    @keyframes pulse{
      0%{ box-shadow: 0 0 0 0 rgba(255,255,255,0.28); }
      70%{ box-shadow: 0 0 0 10px rgba(255,255,255,0); }
      100%{ box-shadow: 0 0 0 0 rgba(255,255,255,0); }
    }

    .hint{
      text-align:center;
      margin-top: 16px;
      font-size: 11px;
      letter-spacing: 1.2px;
      color: var(--muted2);
      text-transform: uppercase;
    }

    /* Modal */
    .modal-overlay{
      position:fixed; inset:0; z-index: 1200;
      background: rgba(0,0,0,0.72);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      display:none;
      align-items:center;
      justify-content:center;
      padding: 18px;
    }
    .modal-overlay.active{ display:flex; }
    .modal{
      width: min(560px, 92vw);
      border-radius: 22px;
      border: 1px solid rgba(255,255,255,0.14);
      background: radial-gradient(700px 260px at 30% 0%, rgba(255,255,255,0.06), transparent 60%),
                  linear-gradient(180deg, rgba(18,22,34,0.92), rgba(10,14,22,0.92));
      box-shadow: 0 28px 80px rgba(0,0,0,0.65);
      padding: 22px 20px;
      position:relative;
      transform: translateY(10px);
      animation: pop .18s ease forwards;
    }
    @keyframes pop{ to{ transform: translateY(0); } }
    .modal .x{
      position:absolute; top: 10px; right: 10px;
      width: 42px; height: 42px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.04);
      color: rgba(244,246,255,0.86);
      font-size: 22px;
      cursor:pointer;
      display:flex; align-items:center; justify-content:center;
    }
    .modal .x:hover{ background: rgba(255,255,255,0.06); border-color: rgba(255,255,255,0.20); }
    .modal .micon{
      width: 54px; height: 54px;
      border-radius: 18px;
      display:flex; align-items:center; justify-content:center;
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.12);
      font-size: 26px;
      margin-bottom: 10px;
      box-shadow: 0 0 30px rgba(74,163,255,0.12);
    }
    .modal .mtitle{
      font-family: Rajdhani, sans-serif;
      font-weight: 800;
      font-size: 26px;
      color: #fff;
      margin-bottom: 10px;
      letter-spacing:.3px;
    }
    .modal .mdesc{
      margin:0;
      color: var(--muted);
      line-height: 1.75;
      font-size: 14.5px;
    }

    /* Tables */
    .table-wrap{
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(0,0,0,0.22);
      overflow:auto;
    }
    table{
      border-collapse: collapse;
      width: 100%;
      min-width: 720px;
    }
    th, td{
      padding: 14px 14px;
      border-bottom: 1px solid rgba(255,255,255,0.07);
      font-size: 13px;
      color: var(--muted);
      vertical-align: top;
    }
    th{
      position:sticky; top:0;
      background: rgba(255,255,255,0.05);
      color:#fff;
      font-family: Rajdhani, sans-serif;
      letter-spacing:.3px;
      font-size: 15px;
      z-index: 2;
    }

    /* Badges */
    .badge-row{ display:flex; gap:10px; flex-wrap:wrap; margin-top: 14px; }
    .badge{
      display:inline-flex; align-items:center; gap:8px;
      border-radius: 999px;
      padding: 7px 12px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(255,255,255,0.04);
      font-size: 12px;
      font-weight: 800;
      color: rgba(244,246,255,0.92);
      letter-spacing:.2px;
      white-space: nowrap;
    }
    .badge.good{ border-color: rgba(72,187,120,0.30); background: rgba(72,187,120,0.10); color: rgba(72,187,120,0.95); }
    .badge.warn{ border-color: rgba(255,209,102,0.28); background: rgba(255,209,102,0.10); color: rgba(255,209,102,0.95); }
    .badge.bad{ border-color: rgba(255,91,122,0.30); background: rgba(255,91,122,0.10); color: rgba(255,91,122,0.95); }
    .badge .mini-dot{
      width:8px; height:8px; border-radius:999px;
      background: linear-gradient(135deg, var(--g), var(--b));
      box-shadow: 0 0 14px rgba(74,163,255,0.18);
    }

    /* Pilot */
    .pilot-grid{
      display:grid;
      grid-template-columns: 1.1fr 0.9fr;
      gap: 18px;
      margin-top: 26px;
      align-items:start;
    }
    @media (max-width: 1000px){ .pilot-grid{ grid-template-columns: 1fr; } }

    .chart-box{
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(0,0,0,0.28);
      height: 240px;
      position:relative;
      overflow:hidden;
    }
    .chart-box canvas{ position:absolute; inset:0; width:100%; height:100%; }
    .form-grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-top: 12px;
    }
    @media (max-width: 540px){ .form-grid{ grid-template-columns: 1fr; } }

    .field{
      display:flex; flex-direction:column; gap:6px;
    }
    .field label{
      font-size: 11px;
      letter-spacing: 1.2px;
      text-transform: uppercase;
      color: var(--muted2);
      font-weight: 800;
    }
    .field input{
      width:100%;
      border-radius: 14px;
      padding: 12px 12px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(255,255,255,0.03);
      color: #fff;
      font-weight: 700;
      outline:none;
      transition:.2s ease;
    }
    .field input:focus{
      border-color: rgba(74,163,255,0.35);
      box-shadow: 0 0 0 4px rgba(74,163,255,0.12);
    }
    .pilot-actions{
      display:flex; gap:10px; flex-wrap:wrap;
      margin-top: 12px;
    }
    .mini-btn{
      appearance:none;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.04);
      color: rgba(244,246,255,0.92);
      border-radius: 14px;
      padding: 11px 14px;
      font-weight: 900;
      font-size: 12px;
      letter-spacing:.6px;
      text-transform: uppercase;
      cursor:pointer;
      transition:.2s ease;
      user-select:none;
      white-space: nowrap;
    }
    .mini-btn:hover{ background: rgba(255,255,255,0.06); border-color: rgba(255,255,255,0.20); transform: translateY(-1px); }
    .mini-btn:active{ transform: translateY(0); }
    .mini-btn.primary{
      border-color: rgba(72,187,120,0.22);
      background: rgba(72,187,120,0.12);
      color: rgba(72,187,120,0.95);
    }

    /* Comparison */
    .compare-card{
      padding: 0;
      overflow:hidden;
    }
    .compare-head{
      padding: 22px 22px 16px;
      display:flex;
      align-items:flex-end;
      justify-content: space-between;
      gap: 14px;
      border-bottom: 1px solid rgba(255,255,255,0.08);
      background: radial-gradient(900px 280px at 20% 0%, rgba(74,163,255,0.10), transparent 60%),
                  radial-gradient(700px 220px at 80% 0%, rgba(72,187,120,0.08), transparent 60%),
                  rgba(255,255,255,0.02);
    }
    .compare-head .title{
      font-family: Rajdhani, sans-serif;
      font-weight: 900;
      font-size: 22px;
      letter-spacing:.3px;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      border-radius: 999px;
      padding: 8px 12px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(0,0,0,0.20);
      color: rgba(244,246,255,0.85);
      font-weight: 900;
      font-size: 12px;
      letter-spacing:.3px;
      white-space: nowrap;
    }
    .pill .spark{
      width: 9px; height: 9px; border-radius: 999px;
      background: linear-gradient(135deg, var(--g), var(--b));
      box-shadow: 0 0 16px rgba(74,163,255,0.18);
    }
    .compare-body{ padding: 18px 22px 22px; }

    /* Dashboard */
    .dash{
      display:grid;
      grid-template-columns: 1.6fr 0.9fr;
      gap: 16px;
      margin-top: 18px;
    }
    @media (max-width: 980px){ .dash{ grid-template-columns:1fr; } }

    .kpi-row{
      display:grid;
      grid-template-columns: repeat(3,1fr);
      gap: 12px;
      margin-bottom: 14px;
    }
    @media (max-width: 520px){ .kpi-row{ grid-template-columns:1fr; } }
    .kpi{
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(0,0,0,0.22);
      padding: 14px 14px;
      text-align:center;
    }
    .kpi .val{
      font-family: Rajdhani, sans-serif;
      font-weight: 900;
      font-size: 30px;
      letter-spacing:.3px;
    }
    .kpi .lbl{
      margin-top: 4px;
      font-size: 11px;
      letter-spacing: 1.4px;
      text-transform: uppercase;
      color: var(--muted2);
      font-weight: 900;
    }
    .chart-mini{
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(0,0,0,0.28);
      height: 190px;
      position:relative;
      overflow:hidden;
    }
    .chart-mini canvas{ position:absolute; inset:0; width:100%; height:100%; }

    .status{
      display:inline-flex;
      align-items:center;
      gap:8px;
      border-radius: 999px;
      padding: 8px 12px;
      border: 1px solid rgba(72,187,120,0.22);
      background: rgba(72,187,120,0.10);
      color: rgba(72,187,120,0.95);
      font-weight: 900;
      font-size: 12px;
      letter-spacing:.3px;
      white-space: nowrap;
    }
    .status .dot{
      width: 8px; height: 8px; border-radius: 999px;
      background: rgba(72,187,120,0.95);
      box-shadow: 0 0 16px rgba(72,187,120,0.25);
    }

    .console{
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(0,0,0,0.46);
      padding: 14px;
      height: 170px;
      overflow:hidden;
      display:flex;
      flex-direction:column;
      justify-content:flex-end;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 11px;
      color: rgba(78,255,147,0.90);
    }
    .logline{
      padding: 7px 0;
      border-bottom: 1px dashed rgba(255,255,255,0.06);
      opacity: .92;
    }

    /* Footer */
    footer{
      padding: 46px 0 70px;
      border-top: 1px solid rgba(255,255,255,0.08);
      color: var(--muted2);
      font-size: 12px;
      text-align:center;
      position:relative;
      z-index:2;
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      *{ animation: none !important; transition: none !important; scroll-behavior: auto !important; }
    }
  </style>
</head>

<body>
  <canvas id="air"></canvas>
  <div class="grain"></div>
  <div class="progress"><span id="prog"></span></div>

  <!-- Drawer -->
  <div class="drawer-overlay" id="drawerOverlay"></div>
  <div class="drawer" id="drawer">
    <div class="row">
      <div style="display:flex; align-items:center; gap:10px;">
        <div class="brand-badge"></div>
        <div>
          <div class="brand-name">Bƒ∞YO<span>DUVAR</span></div>
          <small id="drawerSub">Men√º</small>
        </div>
      </div>
      <button class="chip-btn" id="drawerClose" type="button">Kapat</button>
    </div>

    <a href="#safety" class="drawerLink">G√ºvenlik</a>
    <a href="#tech" class="drawerLink">Sistem</a>
    <a href="#pilot" class="drawerLink">Pilot Test</a>
    <a href="#compare" class="drawerLink">Kar≈üƒ±la≈ütƒ±rma</a>
    <a href="#demo" class="drawerLink">Canlƒ± Panel</a>
    <a href="#team" class="drawerLink">Ekip</a>

    <div style="margin-top:auto; display:flex; gap:10px; flex-wrap:wrap;">
      <button class="chip-btn" id="langToggle2" type="button">TR | EN</button>
      <button class="chip-btn" id="jumpTop" type="button">Yukarƒ±</button>
    </div>
  </div>

  <!-- Top Nav -->
  <nav class="nav" aria-label="√úst Men√º">
    <div class="brand" id="brandHome" title="Ana sayfa">
      <div class="brand-badge"></div>
      <div class="brand-name" id="brandText">Bƒ∞YO<span>DUVAR</span></div>
    </div>

    <div class="nav-actions">
      <div class="nav-links" aria-label="Sayfa linkleri">
        <a href="#safety" data-key="nav_safety">G√ºvenlik</a>
        <a href="#tech" data-key="nav_tech">Sistem</a>
        <a href="#pilot" data-key="nav_pilot">Pilot Test</a>
        <a href="#compare" data-key="nav_compare">Kar≈üƒ±la≈ütƒ±rma</a>
        <a href="#demo" data-key="nav_demo">Canlƒ± Panel</a>
        <a href="#team" data-key="nav_team">Ekip</a>
      </div>
      <button class="chip-btn" id="langToggle" type="button">TR | EN</button>
      <button class="hamburger" id="hamburger" type="button" aria-label="Men√ºy√º a√ß">
        <div class="bars" aria-hidden="true">
          <span></span><span></span><span></span>
        </div>
      </button>
    </div>
  </nav>

  <!-- Modal -->
  <div class="modal-overlay" id="modalOverlay" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal" role="document">
      <button class="x" type="button" id="modalClose" aria-label="Kapat">√ó</button>
      <div class="micon" id="mIcon">üì°</div>
      <div class="mtitle" id="mTitle">Ba≈ülƒ±k</div>
      <p class="mdesc" id="mDesc">A√ßƒ±klama</p>
    </div>
  </div>

  <main>
    <!-- HERO -->
    <section class="container hero" id="home">
      <div class="heroGrid">
        <div>
          <div class="hero-tags">
            <span class="tag green"><span class="dot"></span><span data-key="tag_school">√ñzel ƒ∞ngiliz K√ºlt√ºr Koleji</span></span>
            <span class="tag blue"><span class="dot"></span><span data-key="tag_topic">ƒ∞nsanlƒ±k Yararƒ±na Teknoloji ‚Ä¢ 2026</span></span>
          </div>

          <div class="kicker" data-key="hero_kicker">SENSOR ‚Ä¢ BITKI ‚Ä¢ AKTIF FILTRELEME</div>

          <h1 id="heroTitle" data-key="hero_title">
            Duvarlar Artƒ±k<br><span style="color:var(--g)">Nefes Alƒ±yor</span>
          </h1>

          <p class="lead" data-key="hero_desc">
            Bƒ∞YODUVAR; sƒ±nƒ±f ve ofis gibi kapalƒ± alanlarda CO‚ÇÇ ve hava kalitesi takibini yapan, e≈üik a≈üƒ±ldƒ±ƒüƒ±nda hava akƒ±≈üƒ±nƒ± bitki k√∂k b√∂lgesine y√∂nlendirerek
            ‚Äúaktif‚Äù iyile≈ütirme saƒülayan akƒ±llƒ± bir duvar mod√ºl√ºd√ºr.
          </p>

          <div class="cta-row">
            <a class="btn primary" href="#pilot"><span>‚ö°</span><span data-key="cta_pilot">Pilot Testi A√ß</span></a>
            <a class="btn secondary" href="#demo"><span>üìà</span><span data-key="cta_demo">Canlƒ± Panel</span></a>
          </div>

          <div class="badge-row" style="margin-top:16px;">
            <span class="badge"><span class="mini-dot"></span><span data-key="badge_1">D√º≈ü√ºk voltaj ‚Ä¢ okul uyumlu</span></span>
            <span class="badge"><span class="mini-dot"></span><span data-key="badge_2">Topraksƒ±z ‚Ä¢ d√º≈ü√ºk koku riski</span></span>
            <span class="badge"><span class="mini-dot"></span><span data-key="badge_3">Veri odaklƒ± KPI</span></span>
          </div>
        </div>

        <div>
          <div class="panel-wrap">
            <div class="panel-sheen"></div>

            <div class="solar" aria-hidden="true">
              <div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div>
              <div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div>
              <div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div>
              <div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div>
              <div class="hotspot" style="top:-10px; right:-10px;" data-open="solar">+</div>
            </div>

            <div class="panel">
              <div class="hotspot" style="top:-58px; left:50%; transform:translateX(-50%);" data-open="cleanair">+</div>

              <div class="panel-top">
                <div class="hotspot" style="top:-10px; left:10px;" data-open="sensors">+</div>
                <div class="lcd">
                  <span><b>CO‚ÇÇ</b> <span id="lcdStatus">ƒ∞Yƒ∞</span></span>
                  <span><span id="lcdPpm">410</span> ppm</span>
                </div>
              </div>

              <div class="panel-mid">
                <div class="hotspot" style="top:32%; left:50%; transform:translate(-50%,-50%);" data-open="plants">+</div>
                <div class="hotspot" style="top:78%; right:6%; transform:translateY(-50%); width:26px; height:26px;" data-open="felt">+</div>
                <div class="hotspot" style="top:78%; left:-8px; transform:translateY(-50%); width:26px; height:26px;" data-open="fan">+</div>
                <div class="water-strip" aria-hidden="true"></div>

                <div class="shelf">
                  <div class="felt"></div>
                  <div class="plant-row" id="row1"></div>
                </div>
                <div class="shelf">
                  <div class="felt"></div>
                  <div class="plant-row" id="row2"></div>
                </div>
                <div class="shelf">
                  <div class="felt"></div>
                  <div class="plant-row" id="row3"></div>
                </div>
              </div>

              <div class="panel-bot">
                <div class="hotspot" style="top:10px; right:10px;" data-open="water">+</div>
                <div class="water"></div>
                <div class="pump">5V<br>pump</div>
              </div>
            </div>

            <div class="hint" data-key="hint_click">Detaylar i√ßin (+) noktalarƒ±na tƒ±klayƒ±n</div>
          </div>
        </div>
      </div>
    </section>

    <!-- SAFETY -->
    <section class="container" id="safety">
      <div class="kicker" data-key="safe_kicker">G√úVENLƒ∞ TASARIM</div>
      <h2 data-key="safe_title">Sƒ±nƒ±f ƒ∞√ßin Uygun Mimari</h2>
      <p class="lead" data-key="safe_desc">Topraksƒ±z sistem, kapalƒ± su d√∂ng√ºs√º ve d√º≈ü√ºk voltaj yakla≈üƒ±mƒ± ile kullanƒ±m g√ºvenliƒüi hedeflenir.</p>

      <div class="grid">
        <div class="card">
          <div class="icon">üõ°Ô∏è</div>
          <h3 data-key="safe_1_t">5V D√º≈ü√ºk Voltaj</h3>
          <p class="muted" data-key="safe_1_d">T√ºm bile≈üenler USB seviyesinde √ßalƒ±≈üƒ±r. Elektriksel riskleri azaltmak i√ßin yalƒ±tƒ±m ve kablo y√∂netimi uygulanƒ±r.</p>
        </div>
        <div class="card">
          <div class="icon">üö´</div>
          <h3 data-key="safe_2_t">Topraksƒ±z (Ke√ße) Katman</h3>
          <p class="muted" data-key="safe_2_d">Hidroponik ke√ße, toprak kaynaklƒ± kir ve ta≈üƒ±ma risklerini azaltƒ±r. D√ºzenli bakƒ±m ile koku ve birikim kontrol edilir.</p>
        </div>
        <div class="card">
          <div class="icon">üíß</div>
          <h3 data-key="safe_3_t">Kapalƒ± Su D√∂ng√ºs√º</h3>
          <p class="muted" data-key="safe_3_d">Su haznesi kapalƒ± sistemdir. Sƒ±zdƒ±rmaz baƒülantƒ±lar ve ta≈üma payƒ± ile kontroll√º kullanƒ±m hedeflenir.</p>
        </div>
      </div>
    </section>

    <!-- TECH -->
    <section class="container" id="tech">
      <div class="kicker" data-key="tech_kicker">Sƒ∞STEM Mƒ∞MARƒ∞Sƒ∞</div>
      <h2 data-key="tech_title">Sens√∂r + Fan + Rizosfer</h2>
      <p class="lead" data-key="tech_desc">CO‚ÇÇ ve hava kalitesi verisi, e≈üik durumlarƒ±nda hava akƒ±≈üƒ±nƒ± y√∂netmek i√ßin kullanƒ±lƒ±r. Hava, bitki k√∂k b√∂lgesine y√∂nlendirilerek ‚Äúaktif‚Äù etki hedeflenir.</p>

      <div class="split">
        <div>
          <ul class="list">
            <li>
              <strong data-key="tech_1_t">NDIR CO‚ÇÇ + IAQ Sens√∂r√º</strong>
              <div class="muted" data-key="tech_1_d">CO‚ÇÇ ppm √∂l√ß√ºm√º i√ßin NDIR sens√∂r; genel hava kalitesi i√ßin IAQ/VOC sens√∂r√ºyle desteklenir.</div>
            </li>
            <li>
              <strong data-key="tech_2_t">Otomasyon Mantƒ±ƒüƒ±</strong>
              <div class="muted" data-key="tech_2_d">E≈üik a≈üƒ±ldƒ±ƒüƒ±nda fanlar devreye girer; hava akƒ±≈üƒ± k√∂k b√∂lgesine zorlanƒ±r. Log ve grafik ile s√ºre√ß izlenir.</div>
            </li>
            <li>
              <strong data-key="tech_3_t">Enerji Se√ßenekleri</strong>
              <div class="muted" data-key="tech_3_d">USB/Adapt√∂r + batarya senaryolarƒ±na uygun yapƒ±. G√ºne≈ü paneli destekli kullanƒ±m kurgulanabilir.</div>
            </li>
          </ul>
        </div>

        <div class="card sidecard">
          <div style="display:flex; align-items:center; justify-content:space-between; gap:12px;">
            <div>
              <h3 style="margin-bottom:6px;" data-key="calc_t">Etki Mantƒ±ƒüƒ±</h3>
              <p class="muted" data-key="calc_d">Aktif hava akƒ±≈üƒ± ile k√∂k b√∂lgesindeki biyolojik filtreleme (rizosfer) alanƒ±nƒ±n etkinliƒüi artƒ±rƒ±lƒ±r.</p>
            </div>
            <span class="status" id="sysBadge"><span class="dot"></span><span data-key="badge_active">AKTƒ∞F</span></span>
          </div>

          <div class="badge-row" style="margin-top:14px;">
            <span class="badge good" id="kpiTarget">KPI: %20+</span>
            <span class="badge warn" id="co2ThresholdLbl">E≈üik: 800 ppm</span>
            <span class="badge" id="modeLbl"><span class="mini-dot"></span>Auto</span>
          </div>

          <div class="subtle" style="margin-top:14px;" data-key="calc_note">
            Not: Deƒüerler ortama g√∂re deƒüi≈üir. Pilot test ekranƒ±ndaki giri≈ülerle anlƒ±k sonu√ß g√∂rebilirsiniz.
          </div>
        </div>
      </div>
    </section>

    <!-- PILOT -->
    <section class="container" id="pilot">
      <div class="kicker" data-key="pilot_kicker">Pƒ∞LOT TEST</div>
      <h2 data-key="pilot_title">Deƒüerleri Girin ‚Ä¢ Anlƒ±k KPI G√∂r√ºn</h2>
      <p class="lead" data-key="pilot_desc">
        A≈üaƒüƒ±daki alanlara kontrol g√ºn√º ve Bƒ∞YODUVAR aktifken √∂l√ßt√ºƒü√ºn√ºz deƒüerleri yazƒ±n.
        Grafik, tablo ve iyile≈üme y√ºzdesi otomatik hesaplanƒ±r.
      </p>

      <div class="pilot-grid">
        <div class="card">
          <div style="display:flex; align-items:flex-end; justify-content:space-between; gap:12px; flex-wrap:wrap;">
            <h3 data-key="pilot_chart">CO‚ÇÇ Zaman Grafiƒüi</h3>
            <div class="badge-row" style="margin-top:0;">
              <span class="badge bad" id="bControl">Kontrol: +0 ppm</span>
              <span class="badge good" id="bActive">Aktif: +0 ppm</span>
              <span class="badge" id="bImprove"><span class="mini-dot"></span>KPI: %0</span>
            </div>
          </div>

          <div class="chart-box" style="margin-top:12px;">
            <canvas id="pilotChart"></canvas>
          </div>

          <div class="form-grid">
            <div class="field">
              <label data-key="f_time0">Zaman 0 (dk)</label>
              <input id="t0" type="number" inputmode="numeric" min="0" value="0" />
            </div>
            <div class="field">
              <label data-key="f_time1">Zaman 1 (dk)</label>
              <input id="t1" type="number" inputmode="numeric" min="1" value="20" />
            </div>
            <div class="field">
              <label data-key="f_time2">Zaman 2 (dk)</label>
              <input id="t2" type="number" inputmode="numeric" min="1" value="40" />
            </div>
            <div class="field">
              <label data-key="f_threshold">CO‚ÇÇ E≈üik (ppm)</label>
              <input id="thr" type="number" inputmode="numeric" min="400" value="800" />
            </div>
          </div>

          <div class="form-grid" style="margin-top:12px;">
            <div class="field">
              <label data-key="f_c0">Kontrol ‚Ä¢ t0 (ppm)</label>
              <input id="c0" type="number" inputmode="numeric" min="350" value="520" />
            </div>
            <div class="field">
              <label data-key="f_c1">Kontrol ‚Ä¢ t1 (ppm)</label>
              <input id="c1" type="number" inputmode="numeric" min="350" value="980" />
            </div>
            <div class="field">
              <label data-key="f_c2">Kontrol ‚Ä¢ t2 (ppm)</label>
              <input id="c2" type="number" inputmode="numeric" min="350" value="1400" />
            </div>
            <div class="field">
              <label data-key="f_a0">Aktif ‚Ä¢ t0 (ppm)</label>
              <input id="a0" type="number" inputmode="numeric" min="350" value="520" />
            </div>
            <div class="field">
              <label data-key="f_a1">Aktif ‚Ä¢ t1 (ppm)</label>
              <input id="a1" type="number" inputmode="numeric" min="350" value="780" />
            </div>
            <div class="field">
              <label data-key="f_a2">Aktif ‚Ä¢ t2 (ppm)</label>
              <input id="a2" type="number" inputmode="numeric" min="350" value="980" />
            </div>
          </div>

          <div class="pilot-actions">
            <button class="mini-btn primary" id="savePilot" type="button" data-key="pilot_save">Kaydet</button>
            <button class="mini-btn" id="resetPilot" type="button" data-key="pilot_reset">Varsayƒ±lan</button>
            <button class="mini-btn" id="copyPilot" type="button" data-key="pilot_copy">√ñzet Metni</button>
          </div>

          <div class="subtle" id="pilotSummary" style="margin-top:12px;"></div>
        </div>

        <div class="card">
          <h3 data-key="pilot_table">√ñl√ß√ºm Tablosu</h3>
          <div class="table-wrap" style="margin-top:10px;">
            <table>
              <thead>
                <tr>
                  <th data-key="th_time">Zaman</th>
                  <th data-key="th_control">Kontrol (ppm)</th>
                  <th data-key="th_active">Aktif (ppm)</th>
                  <th data-key="th_delta">Fark (Kontrol - Aktif)</th>
                </tr>
              </thead>
              <tbody id="pilotTbody"></tbody>
            </table>
          </div>

          <div class="badge-row">
            <span class="badge" id="endDiff"><span class="mini-dot"></span>t2 farkƒ±: 0 ppm</span>
            <span class="badge warn" id="overThreshold">E≈üik √ºst√º s√ºre: 0</span>
          </div>

          <p class="subtle" style="margin-top:10px;" data-key="pilot_note">
            ƒ∞pucu: Zaman aralƒ±ƒüƒ±nƒ± (0/20/40 dk yerine 0/15/30 dk gibi) kendi ders akƒ±≈üƒ±nƒ±za g√∂re ayarlayabilirsiniz.
          </p>
        </div>
      </div>
    </section>

    <!-- COMPARISON -->
    <section class="container" id="compare">
      <div class="kicker" data-key="cmp_kicker">KAR≈ûILA≈ûTIRMA</div>
      <h2 data-key="cmp_title">Alternatiflere G√∂re Bƒ∞YODUVAR</h2>
      <p class="lead" data-key="cmp_desc">
        Piyasadaki farklƒ± yakla≈üƒ±mlarla aynƒ± kriterlerde kƒ±yas: √∂l√ß√ºm, aktif iyile≈ütirme, sarf/atƒ±k ve eƒüitim etkisi.
      </p>

      <div class="card compare-card" style="margin-top:20px;">
        <div class="compare-head">
          <div>
            <div class="title" data-key="cmp_head">Kar≈üƒ±la≈ütƒ±rma Matrisi</div>
            <div class="subtle" data-key="cmp_sub">√ñrnek marka referanslarƒ±: Dyson, Philips, Xiaomi, IQAir vb.</div>
          </div>
          <span class="pill"><span class="spark"></span><span data-key="cmp_pill">Okul Odaklƒ± ‚Ä¢ Veri Odaklƒ±</span></span>
        </div>

        <div class="compare-body">
          <div class="table-wrap">
            <table>
              <thead>
                <tr>
                  <th data-key="cmp_sol">√á√∂z√ºm</th>
                  <th data-key="cmp_meas">√ñl√ß√ºm</th>
                  <th data-key="cmp_act">Aktif ƒ∞yile≈ütirme</th>
                  <th data-key="cmp_waste">Sarf/Atƒ±k</th>
                  <th data-key="cmp_maint">Bakƒ±m</th>
                  <th data-key="cmp_edu">Eƒüitim Etkisi</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><b style="color:#fff;" data-key="cmp_co2">CO‚ÇÇ Monit√∂r√º</b> <span class="subtle">(Aranet, Qingping vb.)</span></td>
                  <td>‚úÖ CO‚ÇÇ</td>
                  <td>‚ùå</td>
                  <td>‚úÖ (yok)</td>
                  <td data-key="cmp_low">D√º≈ü√ºk</td>
                  <td data-key="cmp_mid">Orta</td>
                </tr>
                <tr>
                  <td><b style="color:#fff;" data-key="cmp_pur">Hava Temizleyici</b> <span class="subtle">(Dyson, Philips, Xiaomi, IQAir‚Ä¶)</span></td>
                  <td>‚ö†Ô∏è <span data-key="cmp_partial">kƒ±smi</span></td>
                  <td>‚úÖ</td>
                  <td>‚ö†Ô∏è <span data-key="cmp_filter">filtre sarfƒ±</span></td>
                  <td data-key="cmp_med">Orta</td>
                  <td data-key="cmp_low">D√º≈ü√ºk</td>
                </tr>
                <tr>
                  <td><b style="color:#fff;" data-key="cmp_vent">Havalandƒ±rma / Pencere</b></td>
                  <td>‚ùå</td>
                  <td>‚úÖ</td>
                  <td>‚úÖ (yok)</td>
                  <td data-key="cmp_low">D√º≈ü√ºk</td>
                  <td data-key="cmp_mid">Orta</td>
                </tr>
                <tr>
                  <td><b style="color:var(--g)" data-key="cmp_bio">Bƒ∞YODUVAR</b> <span class="subtle">(sens√∂r + fan + rizosfer)</span></td>
                  <td>‚úÖ CO‚ÇÇ + IAQ</td>
                  <td>‚úÖ <span data-key="cmp_control">kontroll√º akƒ±≈ü</span></td>
                  <td>‚úÖ <span data-key="cmp_nowaste">d√º≈ü√ºk atƒ±k</span></td>
                  <td data-key="cmp_planned">Planlƒ± / d√º≈ü√ºk</td>
                  <td>‚úÖ <span data-key="cmp_high">Y√ºksek</span></td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="badge-row">
            <span class="badge good"><span class="mini-dot"></span><span data-key="cmp_b1">√ñl√ß + ƒ∞yile≈ütir</span></span>
            <span class="badge"><span class="mini-dot"></span><span data-key="cmp_b2">Sƒ±nƒ±f i√ßi g√∂r√ºn√ºr s√ºre√ß</span></span>
            <span class="badge warn"><span class="mini-dot"></span><span data-key="cmp_b3">KPI ile raporlanabilir</span></span>
          </div>
        </div>
      </div>
    </section>

    <!-- LIVE DASH -->
    <section class="container" id="demo">
      <div class="kicker" data-key="dash_kicker">CANLI PANEL</div>
      <h2 data-key="dash_title">Anlƒ±k Sim√ºlasyon</h2>
      <p class="lead" data-key="dash_desc">Bu b√∂l√ºm demo ama√ßlƒ±dƒ±r: CO‚ÇÇ y√ºkseldiƒüinde fan devreye girer ve deƒüerleri a≈üaƒüƒ± √ßekmeye √ßalƒ±≈üƒ±r.</p>

      <div class="card" style="margin-top:18px;">
        <div style="display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap;">
          <h3 style="margin-bottom:0;">Bƒ∞YODUVAR ‚Ä¢ v2026</h3>
          <span class="status" id="statusPill"><span class="dot"></span><span data-key="dash_active">Sƒ∞STEM AKTƒ∞F</span></span>
        </div>

        <div class="dash">
          <div>
            <div class="kpi-row">
              <div class="kpi">
                <div class="val" id="valCo2">410</div>
                <div class="lbl">CO‚ÇÇ (ppm)</div>
              </div>
              <div class="kpi">
                <div class="val" id="valTemp">24¬∞C</div>
                <div class="lbl" data-key="dash_temp">Sƒ±caklƒ±k</div>
              </div>
              <div class="kpi">
                <div class="val" id="valHum">55%</div>
                <div class="lbl" data-key="dash_hum">Nem</div>
              </div>
            </div>

            <div class="chart-mini">
              <canvas id="dashChart"></canvas>
            </div>

            <div class="badge-row">
              <span class="badge" id="fanBadge"><span class="mini-dot"></span><span data-key="fan_wait">Fan: beklemede</span></span>
              <span class="badge warn" id="dashThr">E≈üik: 800 ppm</span>
            </div>
          </div>

          <div style="display:flex; flex-direction:column; gap:12px;">
            <div class="console" id="console">
              <div class="logline">> System initialized‚Ä¶</div>
            </div>

            <button class="btn secondary" id="scenarioBtn" type="button" style="justify-content:center;">
              ‚ö° <span data-key="scenario_btn">Sƒ±nƒ±f Kalabalƒ±kla≈üƒ±nca</span>
            </button>

            <div class="subtle" data-key="dash_note">
              Not: Bu sim√ºlasyon, pilot test verilerinizle farklƒ±dƒ±r. Pilot b√∂l√ºm√ºnde ger√ßek √∂l√ß√ºmlerinizi girerek KPI‚Äôyƒ± hesaplayƒ±n.
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- TEAM -->
    <section class="container" id="team">
      <div class="kicker" data-key="team_kicker">EKƒ∞P</div>
      <h2 data-key="team_title">Bilim Ka≈üifleri</h2>
      <p class="lead" data-key="team_desc">Proje geli≈ütirme, tasarƒ±m, √ºretim ve sunum s√ºre√ßleri ekip i√ßinde payla≈üƒ±lmƒ±≈ütƒ±r.</p>

      <div class="grid" style="margin-top:20px;">
        <div class="card">
          <div class="icon">üß≠</div>
          <h3 data-key="t1">Kaptan</h3>
          <p class="muted">R√ºzgar √ñzmen</p>
        </div>
        <div class="card">
          <div class="icon">üéõÔ∏è</div>
          <h3 data-key="t2">Tasarƒ±m</h3>
          <p class="muted">Poyraz Bulut</p>
        </div>
        <div class="card">
          <div class="icon">üß†</div>
          <h3 data-key="t3">Proje Fikri</h3>
          <p class="muted">Archer Ege Webb</p>
        </div>
      </div>

      <div class="grid">
        <div class="card">
          <div class="icon">üß™</div>
          <h3 data-key="t4">Sunum</h3>
          <p class="muted">Toprak Tekin</p>
        </div>
        <div class="card">
          <div class="icon">üß©</div>
          <h3 data-key="t5">√úretim</h3>
          <p class="muted">Volkan √ñnsay</p>
        </div>
        <div class="card">
          <div class="icon">üéì</div>
          <h3 data-key="t6">Danƒ±≈üman</h3>
          <p class="muted">Gamze Yayla√∂n√º</p>
        </div>
      </div>
    </section>

    <footer>
      <div>¬© 2026 Bƒ∞YODUVAR ‚Ä¢ Bilim Ka≈üifleri</div>
      <div style="margin-top:8px;">Opera ‚Ä¢ Chrome ‚Ä¢ Safari uyumlu ‚Ä¢ Mobil/Tablet/PC responsive</div>
    </footer>
  </main>

  <script>
    /* =========================
       TRANSLATIONS (TR/EN)
    ========================== */
    const T = {
      tr: {
        nav_safety: "G√ºvenlik",
        nav_tech: "Sistem",
        nav_pilot: "Pilot Test",
        nav_compare: "Kar≈üƒ±la≈ütƒ±rma",
        nav_demo: "Canlƒ± Panel",
        nav_team: "Ekip",

        tag_school: "√ñzel ƒ∞ngiliz K√ºlt√ºr Koleji",
        tag_topic: "ƒ∞nsanlƒ±k Yararƒ±na Teknoloji ‚Ä¢ 2026",
        hero_kicker: "SENSOR ‚Ä¢ BITKI ‚Ä¢ AKTIF FILTRELEME",
        hero_title: "Duvarlar Artƒ±k<br><span style='color:var(--g)'>Nefes Alƒ±yor</span>",
        hero_desc: "Bƒ∞YODUVAR; sƒ±nƒ±f ve ofis gibi kapalƒ± alanlarda CO‚ÇÇ ve hava kalitesi takibini yapan, e≈üik a≈üƒ±ldƒ±ƒüƒ±nda hava akƒ±≈üƒ±nƒ± bitki k√∂k b√∂lgesine y√∂nlendirerek ‚Äúaktif‚Äù iyile≈ütirme saƒülayan akƒ±llƒ± bir duvar mod√ºl√ºd√ºr.",
        cta_pilot: "Pilot Testi A√ß",
        cta_demo: "Canlƒ± Panel",
        badge_1: "D√º≈ü√ºk voltaj ‚Ä¢ okul uyumlu",
        badge_2: "Topraksƒ±z ‚Ä¢ d√º≈ü√ºk koku riski",
        badge_3: "Veri odaklƒ± KPI",
        hint_click: "Detaylar i√ßin (+) noktalarƒ±na tƒ±klayƒ±n",

        safe_kicker: "G√úVENLƒ∞ TASARIM",
        safe_title: "Sƒ±nƒ±f ƒ∞√ßin Uygun Mimari",
        safe_desc: "Topraksƒ±z sistem, kapalƒ± su d√∂ng√ºs√º ve d√º≈ü√ºk voltaj yakla≈üƒ±mƒ± ile kullanƒ±m g√ºvenliƒüi hedeflenir.",
        safe_1_t: "5V D√º≈ü√ºk Voltaj",
        safe_1_d: "T√ºm bile≈üenler USB seviyesinde √ßalƒ±≈üƒ±r. Elektriksel riskleri azaltmak i√ßin yalƒ±tƒ±m ve kablo y√∂netimi uygulanƒ±r.",
        safe_2_t: "Topraksƒ±z (Ke√ße) Katman",
        safe_2_d: "Hidroponik ke√ße, toprak kaynaklƒ± kir ve ta≈üƒ±ma risklerini azaltƒ±r. D√ºzenli bakƒ±m ile koku ve birikim kontrol edilir.",
        safe_3_t: "Kapalƒ± Su D√∂ng√ºs√º",
        safe_3_d: "Su haznesi kapalƒ± sistemdir. Sƒ±zdƒ±rmaz baƒülantƒ±lar ve ta≈üma payƒ± ile kontroll√º kullanƒ±m hedeflenir.",

        tech_kicker: "Sƒ∞STEM Mƒ∞MARƒ∞Sƒ∞",
        tech_title: "Sens√∂r + Fan + Rizosfer",
        tech_desc: "CO‚ÇÇ ve hava kalitesi verisi, e≈üik durumlarƒ±nda hava akƒ±≈üƒ±nƒ± y√∂netmek i√ßin kullanƒ±lƒ±r. Hava, bitki k√∂k b√∂lgesine y√∂nlendirilerek ‚Äúaktif‚Äù etki hedeflenir.",
        tech_1_t: "NDIR CO‚ÇÇ + IAQ Sens√∂r√º",
        tech_1_d: "CO‚ÇÇ ppm √∂l√ß√ºm√º i√ßin NDIR sens√∂r; genel hava kalitesi i√ßin IAQ/VOC sens√∂r√ºyle desteklenir.",
        tech_2_t: "Otomasyon Mantƒ±ƒüƒ±",
        tech_2_d: "E≈üik a≈üƒ±ldƒ±ƒüƒ±nda fanlar devreye girer; hava akƒ±≈üƒ± k√∂k b√∂lgesine zorlanƒ±r. Log ve grafik ile s√ºre√ß izlenir.",
        tech_3_t: "Enerji Se√ßenekleri",
        tech_3_d: "USB/Adapt√∂r + batarya senaryolarƒ±na uygun yapƒ±. G√ºne≈ü paneli destekli kullanƒ±m kurgulanabilir.",
        calc_t: "Etki Mantƒ±ƒüƒ±",
        calc_d: "Aktif hava akƒ±≈üƒ± ile k√∂k b√∂lgesindeki biyolojik filtreleme (rizosfer) alanƒ±nƒ±n etkinliƒüi artƒ±rƒ±lƒ±r.",
        calc_note: "Not: Deƒüerler ortama g√∂re deƒüi≈üir. Pilot test ekranƒ±ndaki giri≈ülerle anlƒ±k sonu√ß g√∂rebilirsiniz.",
        badge_active: "AKTƒ∞F",

        pilot_kicker: "Pƒ∞LOT TEST",
        pilot_title: "Deƒüerleri Girin ‚Ä¢ Anlƒ±k KPI G√∂r√ºn",
        pilot_desc: "A≈üaƒüƒ±daki alanlara kontrol g√ºn√º ve Bƒ∞YODUVAR aktifken √∂l√ßt√ºƒü√ºn√ºz deƒüerleri yazƒ±n. Grafik, tablo ve iyile≈üme y√ºzdesi otomatik hesaplanƒ±r.",
        pilot_chart: "CO‚ÇÇ Zaman Grafiƒüi",
        f_time0: "Zaman 0 (dk)",
        f_time1: "Zaman 1 (dk)",
        f_time2: "Zaman 2 (dk)",
        f_threshold: "CO‚ÇÇ E≈üik (ppm)",
        f_c0: "Kontrol ‚Ä¢ t0 (ppm)",
        f_c1: "Kontrol ‚Ä¢ t1 (ppm)",
        f_c2: "Kontrol ‚Ä¢ t2 (ppm)",
        f_a0: "Aktif ‚Ä¢ t0 (ppm)",
        f_a1: "Aktif ‚Ä¢ t1 (ppm)",
        f_a2: "Aktif ‚Ä¢ t2 (ppm)",
        pilot_save: "Kaydet",
        pilot_reset: "Varsayƒ±lan",
        pilot_copy: "√ñzet Metni",
        pilot_table: "√ñl√ß√ºm Tablosu",
        th_time: "Zaman",
        th_control: "Kontrol (ppm)",
        th_active: "Aktif (ppm)",
        th_delta: "Fark (Kontrol - Aktif)",
        pilot_note: "ƒ∞pucu: Zaman aralƒ±ƒüƒ±nƒ± (0/20/40 dk yerine 0/15/30 dk gibi) kendi ders akƒ±≈üƒ±nƒ±za g√∂re ayarlayabilirsiniz.",

        cmp_kicker: "KAR≈ûILA≈ûTIRMA",
        cmp_title: "Alternatiflere G√∂re Bƒ∞YODUVAR",
        cmp_desc: "Piyasadaki farklƒ± yakla≈üƒ±mlarla aynƒ± kriterlerde kƒ±yas: √∂l√ß√ºm, aktif iyile≈ütirme, sarf/atƒ±k ve eƒüitim etkisi.",
        cmp_head: "Kar≈üƒ±la≈ütƒ±rma Matrisi",
        cmp_sub: "√ñrnek marka referanslarƒ±: Dyson, Philips, Xiaomi, IQAir vb.",
        cmp_pill: "Okul Odaklƒ± ‚Ä¢ Veri Odaklƒ±",
        cmp_sol: "√á√∂z√ºm",
        cmp_meas: "√ñl√ß√ºm",
        cmp_act: "Aktif ƒ∞yile≈ütirme",
        cmp_waste: "Sarf/Atƒ±k",
        cmp_maint: "Bakƒ±m",
        cmp_edu: "Eƒüitim Etkisi",
        cmp_co2: "CO‚ÇÇ Monit√∂r√º",
        cmp_pur: "Hava Temizleyici",
        cmp_vent: "Havalandƒ±rma / Pencere",
        cmp_bio: "Bƒ∞YODUVAR",
        cmp_partial: "kƒ±smi",
        cmp_filter: "filtre sarfƒ±",
        cmp_control: "kontroll√º akƒ±≈ü",
        cmp_nowaste: "d√º≈ü√ºk atƒ±k",
        cmp_low: "D√º≈ü√ºk",
        cmp_mid: "Orta",
        cmp_med: "Orta",
        cmp_planned: "Planlƒ± / d√º≈ü√ºk",
        cmp_high: "Y√ºksek",
        cmp_b1: "√ñl√ß + ƒ∞yile≈ütir",
        cmp_b2: "Sƒ±nƒ±f i√ßi g√∂r√ºn√ºr s√ºre√ß",
        cmp_b3: "KPI ile raporlanabilir",

        dash_kicker: "CANLI PANEL",
        dash_title: "Anlƒ±k Sim√ºlasyon",
        dash_desc: "Bu b√∂l√ºm demo ama√ßlƒ±dƒ±r: CO‚ÇÇ y√ºkseldiƒüinde fan devreye girer ve deƒüerleri a≈üaƒüƒ± √ßekmeye √ßalƒ±≈üƒ±r.",
        dash_active: "Sƒ∞STEM AKTƒ∞F",
        dash_temp: "Sƒ±caklƒ±k",
        dash_hum: "Nem",
        scenario_btn: "Sƒ±nƒ±f Kalabalƒ±kla≈üƒ±nca",
        dash_note: "Not: Bu sim√ºlasyon, pilot test verilerinizle farklƒ±dƒ±r. Pilot b√∂l√ºm√ºnde ger√ßek √∂l√ß√ºmlerinizi girerek KPI‚Äôyƒ± hesaplayƒ±n.",
        fan_wait: "Fan: beklemede",

        team_kicker: "EKƒ∞P",
        team_title: "Bilim Ka≈üifleri",
        team_desc: "Proje geli≈ütirme, tasarƒ±m, √ºretim ve sunum s√ºre√ßleri ekip i√ßinde payla≈üƒ±lmƒ±≈ütƒ±r.",
        t1: "Kaptan",
        t2: "Tasarƒ±m",
        t3: "Proje Fikri",
        t4: "Sunum",
        t5: "√úretim",
        t6: "Danƒ±≈üman",

        modal_solar_t: "G√ºne≈ü Paneli",
        modal_solar_d: "Enerji verimliliƒüi i√ßin panel destekli kullanƒ±m kurgulanabilir. Bulutlu g√ºnler i√ßin USB/Batarya yedek senaryosu planlanƒ±r.",
        modal_sensors_t: "Sens√∂r Bloƒüu",
        modal_sensors_d: "NDIR CO‚ÇÇ sens√∂r√º ppm deƒüerini okur. IAQ/VOC sens√∂r√º ortam kalitesini destekleyici olarak izler.",
        modal_cleanair_t: "√áƒ±kƒ±≈ü Havasƒ±",
        modal_cleanair_d: "K√∂k b√∂lgesinden ge√ßen hava √ºst b√∂l√ºmden geri verilir. Ama√ß: hava akƒ±≈üƒ±nƒ± biyolojik filtreleme b√∂lgesine ta≈üƒ±mak.",
        modal_plants_t: "Bitki Mod√ºl√º",
        modal_plants_d: "Dikey mod√ºlde farklƒ± bitkiler yeti≈ütirilebilir. G√∂r√ºn√ºr s√ºre√ß, √ßevre ve √ºretim farkƒ±ndalƒ±ƒüƒ± saƒülar.",
        modal_felt_t: "Hidroponik Ke√ße",
        modal_felt_d: "Ke√ße katman suyu tutar ve k√∂kleri destekler. Bakƒ±m planƒ±yla birikim kontrol edilir.",
        modal_fan_t: "Aktif Fan",
        modal_fan_d: "E≈üik a≈üƒ±ldƒ±ƒüƒ±nda fan devreye girer ve havayƒ± k√∂k b√∂lgesine y√∂nlendirir. Bu, ‚Äúpasif‚Äù etkiye g√∂re s√ºreci hƒ±zlandƒ±rƒ±r.",
        modal_water_t: "Su Haznesi",
        modal_water_d: "Kapalƒ± d√∂ng√º hazne ve pompa hattƒ±. Sƒ±zdƒ±rmaz baƒülantƒ±lar ve ta≈üma payƒ± ile g√ºvenli kullanƒ±m hedeflenir."
      },

      en: {
        nav_safety: "Safety",
        nav_tech: "System",
        nav_pilot: "Pilot",
        nav_compare: "Comparison",
        nav_demo: "Live Panel",
        nav_team: "Team",

        tag_school: "British Culture College",
        tag_topic: "Humanity Tech ‚Ä¢ 2026",
        hero_kicker: "SENSOR ‚Ä¢ PLANT ‚Ä¢ ACTIVE FILTERING",
        hero_title: "Walls Are Now<br><span style='color:var(--g)'>Breathing</span>",
        hero_desc: "BIOWALL is a smart wall module that tracks CO‚ÇÇ and air quality in enclosed spaces. When thresholds are exceeded, it redirects airflow through the plant root zone to provide ‚Äúactive‚Äù improvement.",
        cta_pilot: "Open Pilot",
        cta_demo: "Live Panel",
        badge_1: "Low voltage ‚Ä¢ school-friendly",
        badge_2: "Soilless ‚Ä¢ reduced odor risk",
        badge_3: "Data-driven KPI",
        hint_click: "Click (+) points for details",

        safe_kicker: "SAFE DESIGN",
        safe_title: "Classroom-Suitable Architecture",
        safe_desc: "Soilless structure, closed-loop water flow, and low-voltage approach target safer operation.",
        safe_1_t: "5V Low Voltage",
        safe_1_d: "All components run at USB level. Insulation and cable management help reduce electrical risks.",
        safe_2_t: "Soilless (Felt) Layer",
        safe_2_d: "Hydroponic felt reduces soil-borne mess and transfer risks. Regular maintenance controls odor and buildup.",
        safe_3_t: "Closed Water Loop",
        safe_3_d: "Closed reservoir design with leak-proof connections and overflow headroom for controlled usage.",

        tech_kicker: "SYSTEM ARCHITECTURE",
        tech_title: "Sensor + Fan + Rhizosphere",
        tech_desc: "CO‚ÇÇ and air-quality data drive airflow control. Air is pushed through the plant root zone for an ‚Äúactive‚Äù effect.",
        tech_1_t: "NDIR CO‚ÇÇ + IAQ Sensor",
        tech_1_d: "NDIR for CO‚ÇÇ ppm; IAQ/VOC sensor as supportive air-quality signal.",
        tech_2_t: "Automation Logic",
        tech_2_d: "When thresholds are exceeded, fans engage and force airflow through the root zone. Logs and charts visualize the process.",
        tech_3_t: "Power Options",
        tech_3_d: "USB/adapter + battery scenarios. Solar-assisted usage can be designed.",
        calc_t: "Effect Logic",
        calc_d: "Active airflow increases the effectiveness of biological filtration around the roots (rhizosphere).",
        calc_note: "Note: Results vary by room. Use the Pilot section to input real measurements and see KPI instantly.",
        badge_active: "ACTIVE",

        pilot_kicker: "PILOT",
        pilot_title: "Enter Values ‚Ä¢ See KPI Live",
        pilot_desc: "Enter your measured values for the control day and the active BIOWALL day. The chart, table and improvement percent update instantly.",
        pilot_chart: "CO‚ÇÇ Timeline Chart",
        f_time0: "Time 0 (min)",
        f_time1: "Time 1 (min)",
        f_time2: "Time 2 (min)",
        f_threshold: "CO‚ÇÇ Threshold (ppm)",
        f_c0: "Control ‚Ä¢ t0 (ppm)",
        f_c1: "Control ‚Ä¢ t1 (ppm)",
        f_c2: "Control ‚Ä¢ t2 (ppm)",
        f_a0: "Active ‚Ä¢ t0 (ppm)",
        f_a1: "Active ‚Ä¢ t1 (ppm)",
        f_a2: "Active ‚Ä¢ t2 (ppm)",
        pilot_save: "Save",
        pilot_reset: "Default",
        pilot_copy: "Summary Text",
        pilot_table: "Measurement Table",
        th_time: "Time",
        th_control: "Control (ppm)",
        th_active: "Active (ppm)",
        th_delta: "Diff (Control - Active)",
        pilot_note: "Tip: You can set times to match your class flow (e.g., 0/15/30 instead of 0/20/40).",

        cmp_kicker: "COMPARISON",
        cmp_title: "BIOWALL vs Alternatives",
        cmp_desc: "Compare approaches across the same criteria: measurement, active improvement, consumables/waste and education impact.",
        cmp_head: "Comparison Matrix",
        cmp_sub: "Example brand refs: Dyson, Philips, Xiaomi, IQAir, etc.",
        cmp_pill: "School-Focused ‚Ä¢ Data-Focused",
        cmp_sol: "Solution",
        cmp_meas: "Measurement",
        cmp_act: "Active Improvement",
        cmp_waste: "Consumables/Waste",
        cmp_maint: "Maintenance",
        cmp_edu: "Education Impact",
        cmp_co2: "CO‚ÇÇ Monitor",
        cmp_pur: "Air Purifier",
        cmp_vent: "Ventilation / Window",
        cmp_bio: "BIOWALL",
        cmp_partial: "partial",
        cmp_filter: "filter consumables",
        cmp_control: "controlled airflow",
        cmp_nowaste: "low waste",
        cmp_low: "Low",
        cmp_mid: "Medium",
        cmp_med: "Medium",
        cmp_planned: "Planned / low",
        cmp_high: "High",
        cmp_b1: "Measure + Improve",
        cmp_b2: "Visible in class",
        cmp_b3: "KPI-reportable",

        dash_kicker: "LIVE PANEL",
        dash_title: "Real-time Simulation",
        dash_desc: "Demo only: when CO‚ÇÇ rises, the fan engages and tries to bring it down.",
        dash_active: "SYSTEM ACTIVE",
        dash_temp: "Temperature",
        dash_hum: "Humidity",
        scenario_btn: "When Class Gets Crowded",
        dash_note: "Note: This simulation differs from your pilot data. Use the Pilot section for real KPI.",
        fan_wait: "Fan: standby",

        team_kicker: "TEAM",
        team_title: "Science Explorers",
        team_desc: "Development, design, build and presentation tasks are shared within the team.",
        t1: "Captain",
        t2: "Design",
        t3: "Project Idea",
        t4: "Presentation",
        t5: "Production",
        t6: "Advisor",

        modal_solar_t: "Solar Panel",
        modal_solar_d: "Solar-assisted operation can be designed. USB/Battery backup can cover cloudy indoor days.",
        modal_sensors_t: "Sensor Block",
        modal_sensors_d: "NDIR CO‚ÇÇ reads ppm. IAQ/VOC sensor provides supportive air-quality indication.",
        modal_cleanair_t: "Air Output",
        modal_cleanair_d: "Air passing through the root zone is returned from the top section. Goal: route airflow into the biological filtration region.",
        modal_plants_t: "Plant Module",
        modal_plants_d: "Various plants can be used. The visible process supports environmental & production awareness.",
        modal_felt_t: "Hydroponic Felt",
        modal_felt_d: "Felt holds water and supports roots. Maintenance plan controls buildup.",
        modal_fan_t: "Active Fan",
        modal_fan_d: "When thresholds are exceeded, the fan forces airflow through the root zone, accelerating the process vs passive setups.",
        modal_water_t: "Water Reservoir",
        modal_water_d: "Closed-loop tank and pump line. Leak-proof connections with overflow headroom support safer use."
      }
    };

    let lang = "tr";
    const langToggle = document.getElementById("langToggle");
    const langToggle2 = document.getElementById("langToggle2");

    function setLang(next){
      lang = next;
      document.querySelectorAll("[data-key]").forEach(el=>{
        const k = el.getAttribute("data-key");
        if(T[lang][k]) el.innerHTML = T[lang][k];
      });
      langToggle.textContent = (lang === "tr") ? "TR | EN" : "EN | TR";
      langToggle2.textContent = langToggle.textContent;
      document.getElementById("drawerSub").textContent = (lang === "tr") ? "Men√º" : "Menu";
      // Update dynamic labels
      updatePilotUI();
      updateDashThresholdLabel();
      updateLcdFromDash();
    }

    langToggle.addEventListener("click", ()=> setLang(lang === "tr" ? "en" : "tr"));
    langToggle2.addEventListener("click", ()=> setLang(lang === "tr" ? "en" : "tr"));

    /* =========================
       Drawer
    ========================== */
    const overlay = document.getElementById("drawerOverlay");
    const drawer = document.getElementById("drawer");
    const hamburger = document.getElementById("hamburger");
    const drawerClose = document.getElementById("drawerClose");
    const jumpTop = document.getElementById("jumpTop");

    function openDrawer(){
      document.documentElement.classList.add("drawer-open");
      document.body.classList.add("drawer-open");
    }
    function closeDrawer(){
      document.documentElement.classList.remove("drawer-open");
      document.body.classList.remove("drawer-open");
    }
    hamburger.addEventListener("click", openDrawer);
    overlay.addEventListener("click", closeDrawer);
    drawerClose.addEventListener("click", closeDrawer);
    jumpTop.addEventListener("click", ()=> { closeDrawer(); window.scrollTo({top:0, behavior:"smooth"}); });

    document.querySelectorAll(".drawerLink").forEach(a=>{
      a.addEventListener("click", ()=> closeDrawer());
    });

    document.getElementById("brandHome").addEventListener("click", ()=> window.scrollTo({top:0, behavior:"smooth"}));

    /* =========================
       Plants
    ========================== */
    function fillPlants(rowId){
      const row = document.getElementById(rowId);
      for(let i=0;i<4;i++){
        const p = document.createElement("div");
        p.className = "plant";
        p.innerHTML = `<div class="leaf l1"></div><div class="leaf l2"></div><div class="leaf l3"></div>`;
        row.appendChild(p);
      }
    }
    ["row1","row2","row3"].forEach(fillPlants);

    /* =========================
       Modal
    ========================== */
    const modalOverlay = document.getElementById("modalOverlay");
    const modalClose = document.getElementById("modalClose");
    const mIcon = document.getElementById("mIcon");
    const mTitle = document.getElementById("mTitle");
    const mDesc = document.getElementById("mDesc");

    const modalMap = {
      solar: { icon:"‚òÄÔ∏è", t:"modal_solar_t", d:"modal_solar_d" },
      sensors:{ icon:"üì°", t:"modal_sensors_t", d:"modal_sensors_d" },
      cleanair:{ icon:"üí®", t:"modal_cleanair_t", d:"modal_cleanair_d" },
      plants:{ icon:"üåø", t:"modal_plants_t", d:"modal_plants_d" },
      felt:{ icon:"üßΩ", t:"modal_felt_t", d:"modal_felt_d" },
      fan:{ icon:"üåÄ", t:"modal_fan_t", d:"modal_fan_d" },
      water:{ icon:"üíß", t:"modal_water_t", d:"modal_water_d" }
    };

    function openModal(key){
      const m = modalMap[key];
      if(!m) return;
      mIcon.textContent = m.icon;
      mTitle.textContent = T[lang][m.t];
      mDesc.textContent = T[lang][m.d];
      modalOverlay.classList.add("active");
      modalOverlay.setAttribute("aria-hidden","false");
    }
    function closeModal(){
      modalOverlay.classList.remove("active");
      modalOverlay.setAttribute("aria-hidden","true");
    }
    modalClose.addEventListener("click", closeModal);
    modalOverlay.addEventListener("click", (e)=>{ if(e.target === modalOverlay) closeModal(); });
    document.addEventListener("keydown", (e)=>{ if(e.key === "Escape") closeModal(); });

    document.querySelectorAll("[data-open]").forEach(btn=>{
      btn.addEventListener("click", ()=> openModal(btn.getAttribute("data-open")));
    });

    /* =========================
       Progress bar
    ========================== */
    const prog = document.getElementById("prog");
    window.addEventListener("scroll", ()=>{
      const doc = document.documentElement;
      const sc = doc.scrollTop || document.body.scrollTop;
      const max = (doc.scrollHeight - doc.clientHeight) || 1;
      prog.style.width = `${Math.min(100, (sc / max) * 100)}%`;
    });

    /* =========================
       Ambient particles
    ========================== */
    const air = document.getElementById("air");
    const actx = air.getContext("2d", { alpha:true });
    let W=0,H=0;
    function resizeAir(){
      W = air.width = window.innerWidth * (window.devicePixelRatio || 1);
      H = air.height = window.innerHeight * (window.devicePixelRatio || 1);
      air.style.width = window.innerWidth + "px";
      air.style.height = window.innerHeight + "px";
      actx.setTransform(1,0,0,1,0,0);
    }
    window.addEventListener("resize", resizeAir);
    resizeAir();

    const pr = window.devicePixelRatio || 1;
    const parts = Array.from({length: 70}, ()=>({
      x: Math.random()*window.innerWidth,
      y: Math.random()*window.innerHeight,
      r: Math.random()*2.2 + 0.4,
      s: Math.random()*0.55 + 0.12,
      a: Math.random()*0.35 + 0.08
    }));

    function drawAir(){
      actx.clearRect(0,0,W,H);
      actx.save();
      actx.scale(pr, pr);
      for(const p of parts){
        p.y -= p.s;
        p.x += Math.sin((p.y*0.01)) * 0.15;
        if(p.y < -10){ p.y = window.innerHeight + 10; p.x = Math.random()*window.innerWidth; }
        actx.beginPath();
        actx.fillStyle = `rgba(255,255,255,${p.a})`;
        actx.arc(p.x, p.y, p.r, 0, Math.PI*2);
        actx.fill();
      }
      actx.restore();
      requestAnimationFrame(drawAir);
    }
    drawAir();

    /* =========================
       PILOT (interactive)
    ========================== */
    const pilotInputs = ["t0","t1","t2","thr","c0","c1","c2","a0","a1","a2"].reduce((acc,id)=>{
      acc[id]=document.getElementById(id);
      return acc;
    },{});

    const PILOT_KEY = "biyoduvar_pilot_v2026";

    function getPilot(){
      const data = {
        t: [num(pilotInputs.t0.value), num(pilotInputs.t1.value), num(pilotInputs.t2.value)],
        thr: num(pilotInputs.thr.value),
        c: [num(pilotInputs.c0.value), num(pilotInputs.c1.value), num(pilotInputs.c2.value)],
        a: [num(pilotInputs.a0.value), num(pilotInputs.a1.value), num(pilotInputs.a2.value)]
      };
      // sanitize times strictly increasing
      if(data.t[1] <= data.t[0]) data.t[1] = data.t[0] + 1;
      if(data.t[2] <= data.t[1]) data.t[2] = data.t[1] + 1;
      return data;
    }

    function setPilot(data){
      pilotInputs.t0.value = data.t[0];
      pilotInputs.t1.value = data.t[1];
      pilotInputs.t2.value = data.t[2];
      pilotInputs.thr.value = data.thr;
      pilotInputs.c0.value = data.c[0];
      pilotInputs.c1.value = data.c[1];
      pilotInputs.c2.value = data.c[2];
      pilotInputs.a0.value = data.a[0];
      pilotInputs.a1.value = data.a[1];
      pilotInputs.a2.value = data.a[2];
    }

    function savePilot(){
      const d = getPilot();
      localStorage.setItem(PILOT_KEY, JSON.stringify(d));
      renderPilot();
      flashSummary(lang === "tr" ? "Kaydedildi." : "Saved.");
    }

    function loadPilot(){
      try{
        const raw = localStorage.getItem(PILOT_KEY);
        if(!raw) return false;
        const d = JSON.parse(raw);
        if(!d || !d.t || !d.c || !d.a) return false;
        setPilot(d);
        return true;
      }catch(e){ return false; }
    }

    function resetPilot(){
      setPilot({
        t:[0,20,40],
        thr:800,
        c:[520,980,1400],
        a:[520,780,980]
      });
      localStorage.removeItem(PILOT_KEY);
      renderPilot();
      flashSummary(lang === "tr" ? "Varsayƒ±lanlar y√ºklendi." : "Defaults loaded.");
    }

    function num(v){
      const n = Number(v);
      return Number.isFinite(n) ? n : 0;
    }

    const pilotCanvas = document.getElementById("pilotChart");
    const pctx = pilotCanvas.getContext("2d");

    function resizeCanvasToBox(canvas){
      const box = canvas.parentElement;
      const dpr = window.devicePixelRatio || 1;
      const w = box.clientWidth;
      const h = box.clientHeight;
      canvas.width = Math.max(1, Math.floor(w * dpr));
      canvas.height = Math.max(1, Math.floor(h * dpr));
      canvas.style.width = w + "px";
      canvas.style.height = h + "px";
      return { w, h, dpr };
    }

    function niceRange(minV, maxV){
      if(maxV <= minV) return {min:minV-1, max:maxV+1};
      const pad = (maxV - minV) * 0.12;
      return {min: Math.max(0, minV - pad), max: maxV + pad};
    }

    function drawPilotChart(){
      const d = getPilot();
      const { w, h, dpr } = resizeCanvasToBox(pilotCanvas);
      pctx.setTransform(1,0,0,1,0,0);
      pctx.clearRect(0,0,pilotCanvas.width,pilotCanvas.height);
      pctx.save();
      pctx.scale(dpr, dpr);

      const padL = 44, padR = 16, padT = 16, padB = 32;
      const innerW = w - padL - padR;
      const innerH = h - padT - padB;

      const all = [...d.c, ...d.a, d.thr];
      const mn = Math.min(...all);
      const mx = Math.max(...all);
      const rr = niceRange(mn, mx);

      function X(i){
        const tMin = d.t[0], tMax = d.t[2];
        const tVal = d.t[i];
        const p = (tVal - tMin) / ((tMax - tMin) || 1);
        return padL + p * innerW;
      }
      function Y(v){
        const p = (v - rr.min) / ((rr.max - rr.min) || 1);
        return padT + (1 - p) * innerH;
      }

      // grid lines
      pctx.strokeStyle = "rgba(255,255,255,0.06)";
      pctx.lineWidth = 1;
      for(let i=1;i<=3;i++){
        const yy = padT + (innerH/4)*i;
        pctx.beginPath();
        pctx.moveTo(padL, yy);
        pctx.lineTo(w - padR, yy);
        pctx.stroke();
      }

      // threshold line
      const yThr = Y(d.thr);
      pctx.strokeStyle = "rgba(255,209,102,0.35)";
      pctx.setLineDash([6,6]);
      pctx.beginPath();
      pctx.moveTo(padL, yThr);
      pctx.lineTo(w - padR, yThr);
      pctx.stroke();
      pctx.setLineDash([]);

      // axis labels
      pctx.fillStyle = "rgba(244,246,255,0.55)";
      pctx.font = "11px Montserrat";
      pctx.fillText(`${Math.round(rr.max)} ppm`, 8, padT + 10);
      pctx.fillText(`${Math.round(rr.min)} ppm`, 8, padT + innerH);

      // x labels
      pctx.fillStyle = "rgba(244,246,255,0.62)";
      for(let i=0;i<3;i++){
        const xx = X(i);
        const label = `${d.t[i]} dk`;
        pctx.fillText(label, xx - 12, h - 10);
      }

      // helper to draw line
      function drawSeries(values, stroke, glow){
        // glow
        pctx.strokeStyle = glow;
        pctx.lineWidth = 7;
        pctx.globalAlpha = 0.22;
        pctx.beginPath();
        for(let i=0;i<3;i++){
          const xx = X(i), yy = Y(values[i]);
          if(i===0) pctx.moveTo(xx,yy); else pctx.lineTo(xx,yy);
        }
        pctx.stroke();
        pctx.globalAlpha = 1;

        // main
        pctx.strokeStyle = stroke;
        pctx.lineWidth = 3.2;
        pctx.beginPath();
        for(let i=0;i<3;i++){
          const xx = X(i), yy = Y(values[i]);
          if(i===0) pctx.moveTo(xx,yy); else pctx.lineTo(xx,yy);
        }
        pctx.stroke();

        // points
        for(let i=0;i<3;i++){
          const xx = X(i), yy = Y(values[i]);
          pctx.fillStyle = stroke;
          pctx.beginPath();
          pctx.arc(xx,yy,4.2,0,Math.PI*2);
          pctx.fill();

          pctx.fillStyle = "rgba(244,246,255,0.9)";
          pctx.font = "11px Montserrat";
          pctx.fillText(String(Math.round(values[i])), xx + 8, yy - 8);
        }
      }

      drawSeries(d.c, "rgba(255,91,122,0.95)", "rgba(255,91,122,0.35)");
      drawSeries(d.a, "rgba(72,187,120,0.95)", "rgba(72,187,120,0.35)");

      pctx.restore();
    }

    function computePilotMetrics(d){
      const cRise = d.c[2] - d.c[0];
      const aRise = d.a[2] - d.a[0];
      const improve = (cRise > 0) ? Math.max(0, (cRise - aRise) / cRise) : 0;

      const endDiff = d.c[2] - d.a[2];

      // count times above threshold (simple check at points)
      const cAbove = d.c.filter(v => v >= d.thr).length;
      const aAbove = d.a.filter(v => v >= d.thr).length;

      return { cRise, aRise, improve, endDiff, cAbove, aAbove };
    }

    function renderPilotTable(){
      const d = getPilot();
      const tb = document.getElementById("pilotTbody");
      tb.innerHTML = "";
      for(let i=0;i<3;i++){
        const tr = document.createElement("tr");
        const delta = d.c[i] - d.a[i];
        tr.innerHTML = `
          <td style="color:#fff; font-weight:800;">${d.t[i]} dk</td>
          <td>${Math.round(d.c[i])}</td>
          <td style="color: rgba(72,187,120,0.95); font-weight:900;">${Math.round(d.a[i])}</td>
          <td style="color:${delta>=0 ? "rgba(72,187,120,0.95)" : "rgba(255,91,122,0.95)"}; font-weight:900;">${delta>=0?"+":""}${Math.round(delta)}</td>
        `;
        tb.appendChild(tr);
      }
    }

    function updatePilotUI(){
      const d = getPilot();
      const m = computePilotMetrics(d);

      const bControl = document.getElementById("bControl");
      const bActive = document.getElementById("bActive");
      const bImprove = document.getElementById("bImprove");
      const endDiffEl = document.getElementById("endDiff");
      const overThr = document.getElementById("overThreshold");

      bControl.textContent = (lang === "tr") ? `Kontrol: ${fmtRise(m.cRise)} ppm` : `Control: ${fmtRise(m.cRise)} ppm`;
      bActive.textContent = (lang === "tr") ? `Aktif: ${fmtRise(m.aRise)} ppm` : `Active: ${fmtRise(m.aRise)} ppm`;

      const pct = Math.round(m.improve * 100);
      bImprove.innerHTML = `<span class="mini-dot"></span>${lang === "tr" ? "KPI" : "KPI"}: %${pct}`;

      endDiffEl.innerHTML = `<span class="mini-dot"></span>${lang === "tr" ? `t2 farkƒ±: ${Math.round(m.endDiff)} ppm` : `t2 diff: ${Math.round(m.endDiff)} ppm`}`;

      // threshold summary
      overThr.textContent =
        (lang === "tr")
          ? `E≈üik √ºst√º nokta sayƒ±sƒ±: Kontrol ${m.cAbove} ‚Ä¢ Aktif ${m.aAbove}`
          : `Points above threshold: Control ${m.cAbove} ‚Ä¢ Active ${m.aAbove}`;

      // keep tech threshold label synced
      document.getElementById("co2ThresholdLbl").textContent = (lang === "tr") ? `E≈üik: ${Math.round(d.thr)} ppm` : `Threshold: ${Math.round(d.thr)} ppm`;
      updateDashThresholdLabel();
    }

    function fmtRise(x){
      const v = Math.round(x);
      return (v >= 0 ? "+" : "") + v;
    }

    function renderPilot(){
      renderPilotTable();
      drawPilotChart();
      updatePilotUI();

      // summary
      const d = getPilot();
      const m = computePilotMetrics(d);
      const pct = Math.round(m.improve*100);
      const summary =
        (lang === "tr")
          ? `√ñzet: Kontrol ${fmtRise(m.cRise)} ppm, Aktif ${fmtRise(m.aRise)} ppm ‚Ä¢ ƒ∞yile≈üme: %${pct} ‚Ä¢ t2 farkƒ±: ${Math.round(m.endDiff)} ppm ‚Ä¢ E≈üik: ${Math.round(d.thr)} ppm`
          : `Summary: Control ${fmtRise(m.cRise)} ppm, Active ${fmtRise(m.aRise)} ppm ‚Ä¢ Improvement: ${pct}% ‚Ä¢ t2 diff: ${Math.round(m.endDiff)} ppm ‚Ä¢ Threshold: ${Math.round(d.thr)} ppm`;
      document.getElementById("pilotSummary").textContent = summary;
    }

    function flashSummary(text){
      const el = document.getElementById("pilotSummary");
      const prev = el.textContent;
      el.textContent = text;
      setTimeout(()=> { renderPilot(); }, 450);
      setTimeout(()=> { el.textContent = prev; renderPilot(); }, 1200);
    }

    document.getElementById("savePilot").addEventListener("click", savePilot);
    document.getElementById("resetPilot").addEventListener("click", resetPilot);
    document.getElementById("copyPilot").addEventListener("click", async ()=>{
      const txt = document.getElementById("pilotSummary").textContent || "";
      try{
        await navigator.clipboard.writeText(txt);
        flashSummary(lang === "tr" ? "Kopyalandƒ±." : "Copied.");
      }catch(e){
        flashSummary(lang === "tr" ? "Kopyalama desteklenmiyor." : "Clipboard not supported.");
      }
    });

    Object.values(pilotInputs).forEach(inp=>{
      inp.addEventListener("input", ()=>{
        // live update
        renderPilot();
      });
    });

    window.addEventListener("resize", ()=>{
      drawPilotChart();
      drawDashChart();
    });

    // load saved pilot if exists
    loadPilot();
    renderPilot();

    /* =========================
       DASHBOARD SIM
    ========================== */
    const dashCanvas = document.getElementById("dashChart");
    const dctx = dashCanvas.getContext("2d");

    const valCo2 = document.getElementById("valCo2");
    const valTemp = document.getElementById("valTemp");
    const valHum = document.getElementById("valHum");
    const consoleEl = document.getElementById("console");
    const fanBadge = document.getElementById("fanBadge");
    const dashThr = document.getElementById("dashThr");

    let co2 = 410;
    let temp = 24;
    let hum = 55;
    const hist = Array(70).fill(410);

    function logLine(msg){
      const div = document.createElement("div");
      div.className = "logline";
      div.textContent = `> ${msg}`;
      consoleEl.appendChild(div);
      if(consoleEl.children.length > 7) consoleEl.removeChild(consoleEl.firstChild);
    }

    function updateDashThresholdLabel(){
      const d = getPilot();
      dashThr.textContent = (lang === "tr") ? `E≈üik: ${Math.round(d.thr)} ppm` : `Threshold: ${Math.round(d.thr)} ppm`;
    }

    function updateLcdFromDash(){
      const lcdPpm = document.getElementById("lcdPpm");
      const lcdStatus = document.getElementById("lcdStatus");
      const thr = getPilot().thr;

      lcdPpm.textContent = String(Math.round(co2));
      const status = co2 < thr ? (lang === "tr" ? "ƒ∞Yƒ∞" : "GOOD") : (lang === "tr" ? "Y√úKSEK" : "HIGH");
      lcdStatus.textContent = status;
    }

    function drawDashChart(){
      const { w, h, dpr } = resizeCanvasToBox(dashCanvas);
      dctx.setTransform(1,0,0,1,0,0);
      dctx.clearRect(0,0,dashCanvas.width,dashCanvas.height);
      dctx.save();
      dctx.scale(dpr, dpr);

      const padL = 12, padR = 12, padT = 12, padB = 12;
      const iw = w - padL - padR;
      const ih = h - padT - padB;

      const minV = Math.min(...hist, 360);
      const maxV = Math.max(...hist, 900);
      const rr = niceRange(minV, maxV);

      // grid
      dctx.strokeStyle = "rgba(255,255,255,0.06)";
      dctx.lineWidth = 1;
      for(let i=1;i<=2;i++){
        const yy = padT + (ih/3)*i;
        dctx.beginPath();
        dctx.moveTo(padL, yy);
        dctx.lineTo(w - padR, yy);
        dctx.stroke();
      }

      // line
      const thr = getPilot().thr;
      const isHigh = co2 >= thr;
      dctx.strokeStyle = isHigh ? "rgba(255,91,122,0.95)" : "rgba(72,187,120,0.95)";
      dctx.lineWidth = 3;
      dctx.beginPath();
      hist.forEach((v,i)=>{
        const x = padL + (i/(hist.length-1))*iw;
        const y = padT + (1 - (v - rr.min)/((rr.max - rr.min)||1)) * ih;
        if(i===0) dctx.moveTo(x,y); else dctx.lineTo(x,y);
      });
      dctx.stroke();

      // threshold line
      const yThr = padT + (1 - (thr - rr.min)/((rr.max - rr.min)||1)) * ih;
      dctx.strokeStyle = "rgba(255,209,102,0.30)";
      dctx.setLineDash([6,6]);
      dctx.beginPath();
      dctx.moveTo(padL, yThr);
      dctx.lineTo(w - padR, yThr);
      dctx.stroke();
      dctx.setLineDash([]);

      dctx.restore();
    }

    let scenarioRunning = false;

    function tickDash(){
      const thr = getPilot().thr;

      // base drift
      co2 += (Math.random()*9 - 4.5);

      // fan effect
      const fanOn = co2 >= thr;
      if(fanOn) co2 -= 7 + Math.random()*2;

      // clamp
      if(co2 < 380) co2 = 380 + Math.random()*4;

      // temp/hum drift
      temp += (Math.random()*0.28 - 0.14);
      hum += (Math.random()*0.6 - 0.3);
      temp = Math.max(18, Math.min(30, temp));
      hum = Math.max(35, Math.min(70, hum));

      hist.push(co2); hist.shift();

      valCo2.textContent = String(Math.round(co2));
      valTemp.textContent = `${Math.round(temp)}¬∞C`;
      valHum.textContent = `${Math.round(hum)}%`;

      if(fanOn){
        fanBadge.innerHTML = `<span class="mini-dot"></span>${lang === "tr" ? "Fan: aktif" : "Fan: active"}`;
      }else{
        fanBadge.innerHTML = `<span class="mini-dot"></span>${lang === "tr" ? "Fan: beklemede" : "Fan: standby"}`;
      }

      updateLcdFromDash();
      drawDashChart();
    }

    setInterval(tickDash, 850);
    drawDashChart();
    updateDashThresholdLabel();
    updateLcdFromDash();

    const scenarioBtn = document.getElementById("scenarioBtn");
    scenarioBtn.addEventListener("click", async ()=>{
      if(scenarioRunning) return;
      scenarioRunning = true;
      scenarioBtn.disabled = true;

      const thr = getPilot().thr;
      logLine(lang === "tr" ? "Sƒ±nƒ±f yoƒüunluƒüu artƒ±yor‚Ä¶" : "Class occupancy increasing‚Ä¶");
      await sleep(1300);

      logLine(lang === "tr" ? `CO‚ÇÇ y√ºkseliyor (e≈üik: ${Math.round(thr)} ppm)` : `CO‚ÇÇ rising (threshold: ${Math.round(thr)} ppm)`);
      await sleep(1200);

      // push CO2 high quickly
      const target = Math.max(thr + 250, co2 + 280);
      while(co2 < target){
        co2 += 30 + Math.random()*15;
        await sleep(140);
      }
      logLine(lang === "tr" ? "E≈üik a≈üƒ±ldƒ±. Fan devrede." : "Threshold exceeded. Fan engaged.");
      await sleep(1400);

      // let it recover
      logLine(lang === "tr" ? "Hava akƒ±≈üƒ± k√∂k b√∂lgesine y√∂nlendirildi." : "Airflow routed through root zone.");
      await sleep(1400);

      logLine(lang === "tr" ? "Deƒüerler d√º≈ü√ºyor‚Ä¶" : "Values decreasing‚Ä¶");
      await sleep(1700);

      scenarioRunning = false;
      scenarioBtn.disabled = false;
    });

    function sleep(ms){ return new Promise(r=>setTimeout(r, ms)); }

    /* =========================
       INIT language
    ========================== */
    setLang("tr");
  </script>
</body>
</html>

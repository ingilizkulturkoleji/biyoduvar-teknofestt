<!-- Ã–NEMLÄ° NOT: Bu dosyayÄ± kaydederken Kodlama (Encoding) kÄ±smÄ±nÄ± 'UTF-8' seÃ§tiÄŸinizden emin olun. -->
<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes"/>
  <meta name="description" content="BÄ°YODUVAR â€” Karbon AzaltÄ±cÄ± AkÄ±llÄ± Duvar Paneli. Bilim KaÅŸifleri TakÄ±mÄ± - Teknofest 2026.">
  <title>BÄ°YODUVAR | Bilim KaÅŸifleri</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&family=Rajdhani:wght@500;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#11151c;
      --bg-card:rgba(25, 30, 40, 0.7);
      --text:#f0f0f0;
      --muted:rgba(255,255,255,.65);
      --muted2:rgba(255,255,255,.45);
      --stroke:rgba(255,255,255,.08);

      --green:#48bb78;
      --green-lcd: #2ecc71;
      --wood:#8d6e63;
      --wood-dark: #5d4037;
      --wood-frame: #8D6E63;
      --blue:#4299e1;
      --red:#f56565;
      --yellow: #ecc94b;

      --max:1120px;
      --radius:20px;
    }

    *{box-sizing:border-box; -webkit-tap-highlight-color: transparent;}
    html,body{height:100%}

    body{
      margin:0;
      font-family:'Montserrat', sans-serif;
      background: var(--bg);
      background-image:
        radial-gradient(at 0% 0%, rgba(72,187,120,0.08) 0px, transparent 50%),
        radial-gradient(at 100% 100%, rgba(66,153,225,0.06) 0px, transparent 50%);
      color:var(--text);
      overflow-x:hidden;
      scroll-behavior:smooth;
      font-size: 16px;
    }

    /* Ambient */
    #air{ position:fixed; inset:0; width:100%; height:100%; z-index:0; pointer-events:none; opacity:0.6; }
    .progress{ position:fixed; top:0; left:0; width:100%; height:4px; background:transparent; z-index:1000; }
    .progress > span{ display:block; height:100%; width:0%; background:linear-gradient(90deg, var(--green), var(--blue)); box-shadow:0 0 15px var(--green); transition: width 0.1s linear; }

    /* Nav */
    .nav{
      position:fixed; top:20px; left:50%; transform:translateX(-50%); width:min(var(--max), calc(100% - 30px)); z-index:100;
      display:flex; align-items:center; justify-content:space-between; padding:10px 20px;
      border:1px solid var(--stroke); background:rgba(17, 21, 28, 0.85); backdrop-filter:blur(16px); -webkit-backdrop-filter:blur(16px);
      border-radius:99px; box-shadow:0 10px 30px rgba(0,0,0,.5);
    }
    .brand{ display:flex; gap:5px; align-items:center; font-family: 'Rajdhani', sans-serif; font-weight:700; font-size: 20px; letter-spacing:1px; cursor: pointer; color: var(--text); white-space: nowrap; }
    .brand span.highlight { color: var(--green); }

    .nav-links{ display:flex; gap:6px; align-items:center; flex-wrap:wrap; justify-content:flex-end;}
    .nav-links a{ color:var(--muted); text-decoration:none; font-size:13px; padding:8px 14px; border-radius:99px; transition:.2s; font-weight: 500; white-space:nowrap;}
    .nav-links a:hover{ color:#fff; background:rgba(255,255,255,.05); }

    .lang-btn { background: transparent; border: 1px solid var(--wood); color: var(--wood); padding: 6px 14px; border-radius: 99px; font-size: 11px; font-weight: 700; cursor: pointer; margin-left: 5px; transition: 0.2s; text-transform: uppercase; white-space: nowrap; }
    .lang-btn:hover { background: var(--wood); color: #000; }

    /* Layout */
    .container{ width:min(var(--max), calc(100% - 40px)); margin:0 auto; position: relative; z-index: 1; }
    section{ padding:100px 0; }
    .alt-bg { background: linear-gradient(180deg, transparent, rgba(255,255,255,0.01) 15%, rgba(255,255,255,0.01) 85%, transparent); }

    h1{ font-family: 'Rajdhani', sans-serif; margin:20px 0 20px; font-size:clamp(36px, 7vw, 76px); line-height:1.05; font-weight: 700; text-transform: uppercase; }
    h2{ font-family: 'Rajdhani', sans-serif; font-size:clamp(26px, 5vw, 38px); margin-bottom: 20px; line-height: 1.2; color: #fff; }
    h3{ font-family: 'Rajdhani', sans-serif; font-size: 22px; color: #fff; margin-top:0; }
    .lead{ font-size:clamp(15px, 4vw, 19px); color:var(--muted); max-width:65ch; line-height: 1.6; font-weight: 300; }
    .kicker { color: var(--wood); font-weight: 700; text-transform: uppercase; letter-spacing: 2px; font-size: 12px; margin-bottom: 10px; display: block; }

    /* --- HERO & INTERACTIVE VISUAL --- */
    .heroGrid{ display:grid; grid-template-columns:1.1fr 0.9fr; gap:40px; align-items:center; }
    .heroGrid { padding-top: 150px; }

    .hero-tags { display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; }
    .tag { background: rgba(72,187,120,0.1); color: var(--green); padding: 5px 10px; border-radius: 6px; font-size: 11px; font-weight: 600; border: 1px solid rgba(72,187,120,0.2); white-space: nowrap; }
    .tag.blue { background: rgba(66,153,225,0.1); color: var(--blue); border-color: rgba(66,153,225,0.2); }

    .panel-wrapper { position: relative; margin: 60px auto 0; width: 100%; max-width: 420px; perspective: 1000px; }
    .solar-panel {
        position: absolute; top: -15px; right: -30px; width: 110px; height: 70px;
        background: linear-gradient(135deg, #1a237e, #283593);
        border: 4px solid #90a4ae; border-radius: 6px;
        transform: rotate(-12deg) skewX(-5deg); z-index: 51;
        box-shadow: 10px 10px 20px rgba(0,0,0,0.6);
        display: grid; grid-template-columns: repeat(4, 1fr); gap: 2px; padding: 4px;
    }
    .solar-cell { background: rgba(255,255,255,0.15); width: 100%; height: 100%; border-radius: 1px; }

    .panel-visual {
        position: relative; z-index: 2; width: 100%; aspect-ratio: 3/4.5;
        border: 12px solid var(--wood-frame); border-radius: 12px 12px 6px 6px;
        background: #212121; box-shadow: 0 40px 80px rgba(0,0,0,0.7);
        display: flex; flex-direction: column;
        background-image: radial-gradient(#333 1px, transparent 1px); background-size: 10px 10px;
    }
    .panel-visual::before {
        content: ''; position: absolute; top: -45px; left: 50%; transform: translateX(-50%);
        border-left: 220px solid transparent; border-right: 220px solid transparent; border-bottom: 45px solid var(--wood-frame); z-index: 2;
    }

    .hotspot {
        position: absolute; width: 26px; height: 26px; background: #fff; border-radius: 50%;
        color: var(--wood-dark); font-weight: 800; font-size: 16px;
        display: flex; align-items: center; justify-content: center;
        cursor: pointer; z-index: 60; box-shadow: 0 0 0 rgba(255,255,255, 0.4);
        animation: pulse-white 2s infinite; transition: transform 0.2s;
        border: 2px solid var(--wood-dark); -webkit-tap-highlight-color: transparent;
    }
    .hotspot:hover, .hotspot:active { transform: scale(1.15); background: #f0f0f0; }
    @keyframes pulse-white { 0% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7); } 70% { box-shadow: 0 0 0 8px rgba(255, 255, 255, 0); } 100% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0); } }

    .section-header { height: 12%; background: #2d3436; border-bottom: 4px solid var(--wood-dark); padding: 10px; display: flex; align-items: center; justify-content: center; position: relative; }
    .lcd-display {
        background: #000; border: 2px solid #555; border-radius: 4px; padding: 5px 15px; width: 85%;
        color: var(--green-lcd); font-family: monospace; font-weight: bold; font-size: 13px;
        text-shadow: 0 0 5px rgba(46, 204, 113, 0.5); display: flex; justify-content: space-between; align-items: center;
    }

    .section-grow { height: 68%; position: relative; display: flex; flex-direction: column; justify-content: space-evenly; padding-top: 10px; }
    .shelf { height: 8px; background: var(--wood-dark); width: 100%; position: relative; margin-top: auto; box-shadow: 0 5px 10px rgba(0,0,0,0.5); }
    .felt-layer {
        position: absolute; bottom: 8px; left: 5%; width: 90%; height: 50px; background: #3e2723; border-radius: 4px;
        background-image: repeating-linear-gradient(45deg, #3e2723 0, #3e2723 2px, #4e342e 2px, #4e342e 4px); box-shadow: inset 0 0 10px rgba(0,0,0,0.5);
    }
    .plant-row { display: flex; justify-content: space-around; position: absolute; bottom: 8px; width: 90%; left: 5%; z-index: 10; align-items: flex-end; }
    .plant-visual { position: relative; width: 40px; height: 40px; }
    .leaf { position: absolute; bottom: 0; width: 12px; height: 20px; background: var(--green); border-radius: 0 10px 0 10px; transform-origin: bottom center; }
    .plant-visual:nth-child(odd) .leaf { background: #43A047; }

    .water-flow-indicator { position: absolute; right: 10px; top: 0; bottom: 0; width: 4px; background: linear-gradient(180deg, var(--blue), transparent); opacity: 0.5; animation: flowDown 2s linear infinite; }
    @keyframes flowDown { 0%{background-position: 0 0;} 100%{background-position: 0 100px;} }

    .section-tank { height: 20%; background: rgba(52, 152, 219, 0.2); border-top: 6px solid var(--wood-dark); position: relative; overflow: hidden; box-shadow: inset 0 0 20px rgba(0,0,0,0.5); }
    .root-system { position: absolute; top: 0; width: 100%; height: 40px; background-image: linear-gradient(180deg, rgba(255,255,255,0.3) 0%, transparent 100%); mask-image: repeating-linear-gradient(90deg, black 1px, transparent 4px); -webkit-mask-image: repeating-linear-gradient(90deg, black 1px, transparent 4px); opacity: 0.6; }
    .water-line { position: absolute; bottom: 0; width: 100%; height: 75%; background: rgba(66,153,225,0.4); border-top: 1px solid rgba(255,255,255,0.3); animation: waterLevel 5s infinite ease-in-out; }
    @keyframes waterLevel { 0%,100%{height:75%} 50%{height:78%} }
    .pump-unit { position: absolute; bottom: 5px; left: 10px; width: 50px; height: 40px; background: #111; border: 1px solid #444; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: #777; font-size: 10px; font-weight: bold; z-index: 5; }

    .arrow-flow { position: absolute; left: -60px; width: 50px; height: 20px; background: linear-gradient(90deg, rgba(255,255,255,0), #81d4fa); clip-path: polygon(0% 40%, 60% 40%, 60% 0%, 100% 50%, 60% 100%, 60% 60%, 0% 60%); opacity: 0.8; animation: flowIn 2s infinite; z-index: 10; }
    .arrow-flow.out { top: -55px; left: 50%; transform: translateX(-50%) rotate(-90deg); background: linear-gradient(90deg, rgba(255,255,255,0), var(--green-lcd)); width: 50px; }
    @keyframes flowIn { 0%{transform:translateX(-10px); opacity:0;} 50%{opacity:1;} 100%{transform:translateX(10px); opacity:0;} }

    /* --- COMMON CARDS --- */
    .grid{ display:grid; grid-template-columns:repeat(3,1fr); gap:24px; margin-top:40px; }
    .card{ background: var(--bg-card); border: 1px solid var(--stroke); border-radius: var(--radius); padding: 30px; transition: 0.3s; }
    .card:hover { border-color: rgba(255,255,255,0.2); transform: translateY(-5px); box-shadow: 0 10px 25px rgba(0,0,0,0.3); }
    .icon-box { width: 50px; height: 50px; border-radius: 12px; background: rgba(255,255,255,0.05); display: flex; align-items: center; justify-content: center; font-size: 24px; margin-bottom: 16px; color: var(--wood); }

    /* --- TECH LIST & CALC --- */
    .tech-grid { display: grid; grid-template-columns: 1.2fr 0.8fr; gap: 40px; align-items: start; }
    .tech-list { padding: 0; list-style: none; display: flex; flex-direction: column; gap: 16px; margin: 0; }
    .tech-list li {
        background: var(--bg-card); padding: 20px 24px; border-radius: 16px; border: 1px solid rgba(255,255,255,0.05);
        font-size: 14px; line-height: 1.6; color: var(--muted); display: flex; flex-direction: column;
    }
    .tech-list li strong { font-family: 'Rajdhani', sans-serif; color: #fff; margin-bottom: 6px; font-size: 18px; letter-spacing: 0.5px; }
    .calc-card { background: var(--bg-card); padding: 35px; border-radius: 20px; border: 1px solid rgba(255,255,255,0.05); box-shadow: 0 10px 30px rgba(0,0,0,0.3); position: sticky; top: 100px; }

    /* --- DASHBOARD --- */
    .dash-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 24px; margin-top: 20px;}
    .kpi-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 20px; }
    .kpi-card { background: rgba(0,0,0,0.3); border: 1px solid var(--stroke); border-radius: 12px; padding: 16px; text-align: center; }
    .kpi-val { font-family: 'Rajdhani'; font-size: 28px; font-weight: 700; color: #fff; }
    .kpi-lbl { font-size: 11px; color: var(--muted2); text-transform: uppercase; margin-top: 4px; }
    .console-log { font-family: monospace; font-size: 11px; color: var(--green); background: #050505; padding: 15px; border-radius: 8px; height: 140px; overflow: hidden; border: 1px solid var(--stroke); display: flex; flex-direction: column; justify-content: flex-end; }
    .log-line { opacity: 0.9; margin-bottom: 6px; border-bottom: 1px dashed rgba(255,255,255,0.05); padding-bottom: 4px;}

    /* --- EXPERIMENT TIMELINE --- */
    .timeline { display: flex; justify-content: space-between; position: relative; margin-top: 30px; }
    .timeline::before { content:''; position: absolute; top: 20px; left: 0; right: 0; height: 2px; background: var(--stroke); z-index: 1;}
    .tl-step { flex: 1; text-align: center; position: relative; z-index: 2; padding: 0 10px;}
    .tl-dot { width: 40px; height: 40px; border-radius: 50%; background: var(--bg); border: 2px solid var(--wood); margin: 0 auto 15px; display: flex; align-items: center; justify-content: center; font-weight: bold; color: var(--wood); font-family:'Rajdhani';}
    .tl-step h4 { margin: 0 0 5px; font-size: 16px; color: #fff; }
    .tl-step p { font-size: 12px; color: var(--muted); margin: 0; line-height: 1.4;}

    /* --- BUTTONS --- */
    .btn { display: inline-block; background: var(--green); color: #000; font-weight: 700; padding: 12px 24px; border-radius: 8px; text-decoration: none; transition: 0.2s; border: none; cursor: pointer; }
    .btn:disabled { background: var(--muted2); cursor: not-allowed; opacity: 0.7; }
    .btn.secondary { background: transparent; border: 1px solid var(--stroke); color: var(--text); }

    /* --- TEAM --- */
    .team-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 16px; margin-top: 30px; }
    .member { text-align: center; padding: 20px; border: 1px solid var(--stroke); border-radius: 12px; background: rgba(255,255,255,0.02); }
    .role { font-size: 10px; text-transform: uppercase; color: var(--wood); font-weight: 700; letter-spacing: 1px; margin-bottom: 4px; }
    .name { font-size: 14px; font-weight: 600; }
    .logo-container { display: flex; justify-content: center; align-items: center; gap: 40px; flex-wrap: wrap; margin-top: 30px; padding: 20px; background: rgba(255,255,255,0.02); border-radius: 20px; }
    .footer-logo { height: 70px; width: auto; object-fit: contain; background: #fff; padding: 8px; border-radius: 8px; transition: transform 0.3s; }

    /* Modal */
    .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.85); backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px); z-index: 2000; display: none; align-items: center; justify-content: center; opacity: 0; transition: opacity 0.3s; }
    .modal-overlay.active { display: flex; opacity: 1; }
    .modal-content { background: #1a202c; border: 1px solid var(--stroke); border-radius: 16px; padding: 30px; max-width: 500px; width: 85%; position: relative; transform: translateY(20px); transition: transform 0.3s; box-shadow: 0 20px 50px rgba(0,0,0,0.5); text-align: center; }
    .modal-overlay.active .modal-content { transform: translateY(0); }
    .modal-close { position: absolute; top: 15px; right: 15px; background: transparent; border: none; color: var(--muted); font-size: 24px; cursor: pointer; padding: 10px;}
    .modal-icon { font-size: 48px; margin-bottom: 15px; display: inline-block; }
    .modal-title { font-family: 'Rajdhani'; font-size: 24px; color: var(--green); margin-bottom: 10px; }
    .modal-desc { font-size: 15px; line-height: 1.6; color: var(--text); }

    /* --- NEW: TABLES (Pilot & Comparison & BOM) --- */
    .table-wrap{
      overflow:auto;
      border-radius: 16px;
      border: 1px solid var(--stroke);
      background: rgba(0,0,0,0.25);
    }
    table{
      width:100%;
      border-collapse: collapse;
      min-width: 720px;
    }
    th, td{
      padding: 14px 14px;
      border-bottom: 1px solid rgba(255,255,255,0.06);
      font-size: 13px;
      color: var(--muted);
      vertical-align: top;
    }
    th{
      color:#fff;
      font-family:'Rajdhani',sans-serif;
      font-size: 15px;
      letter-spacing: 0.3px;
      background: rgba(255,255,255,0.03);
      position: sticky;
      top: 0;
    }
    .badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(255,255,255,0.04);
      font-size: 12px;
      color: #fff;
      font-weight: 600;
    }
    .badge.good{ border-color: rgba(72,187,120,0.35); color: var(--green); background: rgba(72,187,120,0.12);}
    .badge.warn{ border-color: rgba(236,201,75,0.35); color: var(--yellow); background: rgba(236,201,75,0.10);}
    .badge.bad{ border-color: rgba(245,101,101,0.35); color: var(--red); background: rgba(245,101,101,0.10); }

    .pilot-grid{
      display:grid;
      grid-template-columns: 1.2fr 0.8fr;
      gap: 24px;
      margin-top: 24px;
      align-items: start;
    }

    /* --- NEW: CHECKLIST --- */
    .checklist{
      display:flex;
      flex-direction:column;
      gap: 12px;
      margin-top: 18px;
    }
    .check-item{
      display:flex;
      gap: 12px;
      align-items:flex-start;
      padding: 14px 16px;
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 14px;
      background: rgba(0,0,0,0.20);
    }
    .check-item input{
      margin-top: 3px;
      width: 18px; height: 18px;
      accent-color: var(--green);
    }
    .check-item .txt{
      font-size: 14px;
      line-height: 1.5;
      color: var(--muted);
    }
    .check-item .txt b{ color:#fff; font-weight:700; }
    .check-actions{ display:flex; gap:10px; flex-wrap:wrap; margin-top:14px; }
    .mini-btn{
      background: transparent;
      border: 1px solid var(--stroke);
      color: var(--text);
      border-radius: 10px;
      padding: 10px 14px;
      font-weight: 700;
      cursor:pointer;
      font-size: 12px;
      transition: .2s;
    }
    .mini-btn:hover{ background: rgba(255,255,255,0.05); border-color: rgba(255,255,255,0.2); }

    @media(max-width:900px){
        .heroGrid{ grid-template-columns: 1fr; text-align: center; padding-top: 130px; }
        .hero-tags { justify-content: center; }
        .tech-grid, .dash-grid, .grid { grid-template-columns: 1fr; }
        .nav-links { display: none; } .nav { padding: 15px 20px; }
        .panel-wrapper { max-width: 100%; margin-top: 60px; padding: 0 10px; }
        .solar-panel { right: 20px; top: -45px; width: 100px; height: 50px; }
        section { padding: 60px 0; }
        .kpi-row { grid-template-columns: 1fr 1fr 1fr; }
        .timeline { flex-direction: column; gap: 30px; }
        .timeline::before { left: 20px; top: 0; bottom: 0; width: 2px; height: 100%; }
        .tl-step { display: flex; text-align: left; align-items: flex-start; gap: 15px; }
        .tl-dot { margin: 0; flex-shrink: 0; }
        .pilot-grid{ grid-template-columns: 1fr; }
        table{ min-width: 640px; }
    }
    @media(max-width:480px){
        h1 { font-size: 32px; }
        .kpi-row { grid-template-columns: 1fr; }
    }
  </style>
</head>

<body>
  <canvas id="air"></canvas>
  <div class="progress"><span id="prog"></span></div>

  <nav class="nav">
    <div class="brand" data-key="brand_html">
      BÄ°YO<span class="highlight">DUVAR</span>
    </div>
    <div class="nav-links">
      <a href="#market" data-key="nav_market">Pazar & Analiz</a>
      <a href="#tech" data-key="nav_tech">Sistem Mimarisi</a>
      <a href="#experiment" data-key="nav_exp">Deney PlanÄ±</a>
      <a href="#pilot" data-key="nav_pilot">Pilot Test</a>
      <a href="#compare" data-key="nav_compare">KÄ±yas</a>
      <a href="#build" data-key="nav_build">Ãœretim</a>
      <a href="#demo" data-key="nav_demo">Deney & Demo</a>
    </div>
    <button id="langToggle" class="lang-btn">TR | EN</button>
  </nav>

  <!-- INFO MODAL -->
  <div class="modal-overlay" id="infoModal">
      <div class="modal-content">
          <button class="modal-close" onclick="closeModal()">Ã—</button>
          <div class="modal-icon" id="mIcon"></div>
          <h3 class="modal-title" id="mTitle"></h3>
          <p class="modal-desc" id="mDesc"></p>
      </div>
  </div>

  <main>
    <!-- HERO -->
    <section class="container heroGrid">
      <div>
        <div class="hero-tags">
          <span class="tag" data-key="tag_school">Ã–zel Ä°ngiliz KÃ¼ltÃ¼r Koleji</span>
          <span class="tag blue" data-key="tag_project">Teknofest 2026 Ä°nsanlÄ±k YararÄ±na Teknoloji</span>
        </div>
        <h1 data-key="hero_title">Duvarlar ArtÄ±k<br><span style="color:var(--green)">Nefes AlÄ±yor</span></h1>
        <p class="lead" data-key="hero_desc">
            BÄ°YODUVAR; kapalÄ± okul ve ofis ortamlarÄ±ndaki "Hasta Bina Sendromunu" bitki tabanlÄ± aktif filtreleme ile Ã§Ã¶zen,
            sensÃ¶r kontrollÃ¼ yeni nesil bir ekosistemdir.
        </p>
        <div style="display:flex; gap:16px; margin-top:30px; flex-wrap:wrap; justify-content: center;">
            <a href="#market" class="btn" data-key="btn_explore">Projeyi Ä°ncele</a>
            <a href="#demo" class="btn secondary" data-key="btn_demo">CanlÄ± SimÃ¼lasyon</a>
        </div>
      </div>

      <!-- INTERACTIVE VISUAL -->
      <div class="panel-wrapper">
          <div class="hotspot" style="top:-60px; left:50%; transform:translateX(-50%); z-index:60;" onclick="openInfo('cleanair')">+</div>
          <div class="solar-panel">
               <div class="hotspot" style="top:-10px; right:-10px; background:var(--yellow); color:#000;" onclick="openInfo('solar')">+</div>
               <div class="solar-cell"></div><div class="solar-cell"></div><div class="solar-cell"></div><div class="solar-cell"></div>
               <div class="solar-cell"></div><div class="solar-cell"></div><div class="solar-cell"></div><div class="solar-cell"></div>
          </div>
          <div class="arrow-flow" style="bottom:25%; left:-50px;"></div>
          <div class="arrow-flow" style="bottom:50%; left:-50px;"></div>
          <div class="arrow-flow out"></div>
          <div class="panel-visual">
              <div class="section-header">
                  <div class="hotspot" style="top:-10px; left:10px;" onclick="openInfo('sensors')">+</div>
                  <div class="lcd-display"><span>Karbon: Ä°YÄ°</span><span>410ppm</span></div>
              </div>
              <div class="section-grow">
                   <div class="hotspot" style="top:30%; left:50%; transform:translate(-50%,-50%)" onclick="openInfo('plants')">+</div>
                   <div class="hotspot" style="top:75%; right:5%; transform:translateY(-50%); width:22px; height:22px; font-size:14px;" onclick="openInfo('felt')">+</div>
                   <div class="hotspot" style="top:75%; left:-10px; transform:translateY(-50%); width:24px; height:24px; font-size:14px; background:var(--blue); color:#fff;" onclick="openInfo('fan')">+</div>
                   <div class="water-flow-indicator"></div>
                   <div class="shelf"><div class="felt-layer"></div><div class="plant-row" id="row1"></div></div>
                   <div class="shelf"><div class="felt-layer"></div><div class="plant-row" id="row2"></div></div>
                   <div class="shelf"><div class="felt-layer"></div><div class="plant-row" id="row3"></div></div>
              </div>
              <div class="section-tank">
                  <div class="hotspot" style="top:10px; right:10px;" onclick="openInfo('water')">+</div>
                  <div class="root-system"></div>
                  <div class="water-line"></div>
                  <div class="pump-unit"><span>5V PUMP</span></div>
                  <div style="position:absolute; bottom:5px; left:40%; width:4px; height:4px; background:rgba(255,255,255,0.5); border-radius:50%; animation:rise 2s infinite;"></div>
              </div>
          </div>
          <div style="text-align:center; margin-top:20px; font-size:11px; color:var(--muted); letter-spacing:1px; opacity:0.8;">
            <span data-key="lbl_click">SÄ°STEMÄ° Ä°NCELEMEK Ä°Ã‡Ä°N (+) BUTONLARINA TIKLAYIN</span>
          </div>
      </div>
    </section>

    <!-- SAFETY -->
    <section id="safety" class="container">
        <div class="kicker" data-key="safe_kicker">NEDEN BÄ°YODUVAR?</div>
        <h2 data-key="safe_title">SÄ±nÄ±flar Ä°Ã§in GÃ¼venli TasarÄ±m</h2>
        <div class="grid">
            <div class="card">
                <div class="icon-box">ğŸ›¡ï¸</div>
                <h3 data-key="safe_1_title">DÃ¼ÅŸÃ¼k Voltaj (5V)</h3>
                <p data-key="safe_1_desc" style="font-size:14px; color:var(--muted); line-height:1.6;">TÃ¼m elektronik bileÅŸenler ve pompalar USB/Powerbank voltajÄ±yla Ã§alÄ±ÅŸÄ±r. Ã‡ocuklar iÃ§in elektrik Ã§arpma riski sÄ±fÄ±rdÄ±r.</p>
            </div>
            <div class="card">
                <div class="icon-box">ğŸš«</div>
                <h3 data-key="safe_2_title">TopraksÄ±z Sistem</h3>
                <p data-key="safe_2_desc" style="font-size:14px; color:var(--muted); line-height:1.6;">Hidroponik keÃ§e kullanÄ±mÄ± sayesinde toprak kaynaklÄ± bÃ¶cek, sinek, mantar ve kÃ¶tÃ¼ koku oluÅŸumu tamamen engellenir.</p>
            </div>
            <div class="card">
                <div class="icon-box">ğŸ’§</div>
                <h3 data-key="safe_3_title">SÄ±zdÄ±rmaz KapalÄ± DÃ¶ngÃ¼</h3>
                <p data-key="safe_3_desc" style="font-size:14px; color:var(--muted); line-height:1.6;">Su dÃ¶ngÃ¼sÃ¼ kapalÄ± bir hazne iÃ§inde gerÃ§ekleÅŸir. SÄ±nÄ±f zeminine su dÃ¶kÃ¼lmesi veya kÃ¼f oluÅŸumu engellenir.</p>
            </div>
        </div>
    </section>

    <!-- TECH -->
    <section id="tech" class="container alt-bg">
        <div class="kicker" data-key="tech_kicker" style="margin-bottom: 20px;">TEKNÄ°K ALTYAPI</div>
        <div class="tech-grid">
            <div>
                <ul class="tech-list">
                    <li>
                        <strong data-key="tech_1_title">Hibrit SensÃ¶r AÄŸÄ±</strong>
                        <span data-key="tech_1_desc">Karbon emisyonunu net Ã¶lÃ§mek iÃ§in <b>NDIR CO2 SensÃ¶rÃ¼ (MH-Z19B)</b> ve Genel Hava Kalitesi iÃ§in <b>MQ-135</b> kullanÄ±lÄ±r.</span>
                    </li>
                    <li>
                        <strong data-key="tech_3_title">Otomasyon & MCU</strong>
                        <span data-key="tech_3_desc">Arduino Nano, verileri anlÄ±k iÅŸleyerek eÅŸik aÅŸÄ±ldÄ±ÄŸÄ±nda (Ã¶rn: 800ppm) tahliye fanlarÄ±nÄ± otomatik devreye sokar.</span>
                    </li>
                    <li>
                        <strong data-key="tech_5_title">Ã‡oklu GÃ¼Ã§ KaynaÄŸÄ±</strong>
                        <span data-key="tech_5_desc">SÄ±nÄ±f iÃ§i kullanÄ±m gÃ¶z Ã¶nÃ¼ne alÄ±narak; GÃ¼neÅŸ Paneli, Batarya ve ÅŸebeke adaptÃ¶rÃ¼ hibrid olarak Ã§alÄ±ÅŸÄ±r.</span>
                    </li>
                </ul>
            </div>
            <div>
                <div class="calc-card">
                    <h3 style="margin-top:0; color:var(--wood); font-family:'Rajdhani', sans-serif; font-size:22px;" data-key="calc_title">Hesaplamalar & Verim</h3>
                    <p style="font-size:14px; line-height: 1.7; color: var(--muted); margin-bottom:20px;" data-key="calc_desc">
                        1 mÂ² yaprak alanÄ± gÃ¼nde 5-20g CO2 emer. Panelimizdeki ~0.5 mÂ² aktif alan, <b>Rizosfer (kÃ¶k) havalandÄ±rmasÄ± ve aktif fan sistemiyle</b> 3 kat verimli Ã§alÄ±ÅŸarak 1.5 mÂ²'lik bir etki yaratÄ±r.
                    </p>
                    <div style="padding-top:20px; border-top:1px solid rgba(255,255,255,0.1);">
                        <div style="display:flex; justify-content: space-between; font-size:14px; margin-bottom: 10px;">
                            <span data-key="calc_co2">YÄ±llÄ±k CO2 AzaltÄ±mÄ± Hedefi:</span>
                            <span style="color:var(--green); font-weight:700;">~3.65 kg - 5.0 kg</span>
                        </div>
                        <div style="display:flex; justify-content: space-between; font-size:14px;">
                            <span data-key="calc_oxy">Tahmini O2 Ãœretimi:</span>
                            <span style="color:var(--blue); font-weight:700;">~11 gr/gÃ¼n</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- MARKET -->
    <section id="market" class="container">
        <div class="kicker" data-key="market_kicker">TÄ°CARÄ°LEÅME POTANSÄ°YELÄ°</div>
        <h2 data-key="market_title">Pazar Analizi & Gelir Modeli</h2>
        <div class="grid">
            <div class="card" style="border-color: rgba(66,153,225,0.3);">
                <div style="font-family:'Rajdhani'; font-size:20px; color:#fff; margin-bottom:10px;" data-key="mkt_1_title">Hedef Kitle</div>
                <p style="font-size:13px; color:var(--muted); line-height:1.6;" data-key="mkt_1_desc">Ä°lk etapta okullar, kreÅŸler ve etÃ¼t merkezleri. ArdÄ±ndan "Hasta Bina Sendromu" yaÅŸayan plaza ve ofisler.</p>
            </div>
            <div class="card" style="border-color: rgba(72,187,120,0.3);">
                <div style="font-family:'Rajdhani'; font-size:20px; color:#fff; margin-bottom:10px;" data-key="mkt_2_title">Rekabet AvantajÄ±</div>
                <p style="font-size:13px; color:var(--muted); line-height:1.6;" data-key="mkt_2_desc">Klasik hava temizleyiciler gibi filtre atÄ±ÄŸÄ± Ã§Ä±karmaz (DoÄŸal). Sadece Ã¶lÃ§Ã¼m yapan cihazlardan farklÄ± olarak aktif temizlik yapar.</p>
            </div>
            <div class="card" style="border-color: rgba(236,201,75,0.3);">
                <div style="font-family:'Rajdhani'; font-size:20px; color:#fff; margin-bottom:10px;" data-key="mkt_3_title">Maliyet & Gelir</div>
                <p style="font-size:13px; color:var(--muted); line-height:1.6;" data-key="mkt_3_desc">Prototip ~3550 TL'dir. Seri Ã¼retimde maliyet %40 dÃ¼ÅŸecektir. Cihaz satÄ±ÅŸÄ± + AylÄ±k Besin/KeÃ§e bakÄ±m kiti aboneliÄŸi ile sÃ¼rdÃ¼rÃ¼lebilir gelir hedeflenir.</p>
            </div>
        </div>
    </section>

    <!-- EXPERIMENT PLAN -->
    <section id="experiment" class="container alt-bg">
        <div class="kicker" data-key="exp_kicker">BÄ°LÄ°MSEL YÃ–NTEM</div>
        <h2 data-key="exp_title">Uygulama ve Deney PlanÄ±</h2>
        <p class="lead" data-key="exp_desc">Projemizin okullardaki etkisini doÄŸrulamak iÃ§in tasarlanan kontrol test prosedÃ¼rÃ¼.</p>

        <div class="timeline">
            <div class="tl-step">
                <div class="tl-dot">1</div>
                <h4 data-key="exp_s1_title">Ortam Belirleme</h4>
                <p data-key="exp_s1_desc">Ortalama bÃ¼yÃ¼klÃ¼kte bir sÄ±nÄ±f seÃ§ilir. Ders sÃ¼resi 40 dk olarak sabitlenir.</p>
            </div>
            <div class="tl-step">
                <div class="tl-dot">2</div>
                <h4 data-key="exp_s2_title">Kontrol Ã–lÃ§Ã¼mÃ¼</h4>
                <p data-key="exp_s2_desc">GÃ¼n 1: BÄ°YODUVAR kapalÄ±yken (fansÄ±z), 0. ve 40. dakikada CO2 ppm Ã¶lÃ§Ã¼lÃ¼r.</p>
            </div>
            <div class="tl-step">
                <div class="tl-dot">3</div>
                <h4 data-key="exp_s3_title">Aktif Ã–lÃ§Ã¼m</h4>
                <p data-key="exp_s3_desc">GÃ¼n 2: Panel aktifken, fan hava akÄ±ÅŸÄ± devredeyken aynÄ± dakikalarda Ã¶lÃ§Ã¼m yapÄ±lÄ±r.</p>
            </div>
            <div class="tl-step">
                <div class="tl-dot" style="background:rgba(72,187,120,0.1); border-color:var(--green); color:var(--green)">4</div>
                <h4 data-key="exp_s4_title">BaÅŸarÄ± Kriteri (KPI)</h4>
                <p data-key="exp_s4_desc">40. dk sonundaki CO2 yoÄŸunluÄŸunda kontrol grubuna gÃ¶re %20 iyileÅŸme kanÄ±tlanmasÄ±.</p>
            </div>
        </div>
    </section>

    <!-- PILOT TEST -->
    <section id="pilot" class="container">
      <div class="kicker" data-key="pilot_kicker">KANIT & VERÄ°</div>
      <h2 data-key="pilot_title">Pilot Test SonuÃ§larÄ± (Ã–rnek Åablon)</h2>
      <p class="lead" data-key="pilot_desc">
        JÃ¼rinin en Ã§ok puan verdiÄŸi bÃ¶lÃ¼m: AynÄ± sÄ±nÄ±fta â€œKontrol GÃ¼nÃ¼â€ ve â€œAktif GÃ¼nâ€ Ã¶lÃ§Ã¼mÃ¼nÃ¼ tablo ve grafikle kanÄ±tlamak.
        AÅŸaÄŸÄ±daki veriler ÅŸablondur; kendi Ã¶lÃ§Ã¼mÃ¼nÃ¼zle deÄŸiÅŸtirip ekran gÃ¶rÃ¼ntÃ¼sÃ¼ ekleyin.
      </p>

      <div class="pilot-grid">
        <div class="card">
          <h3 style="margin-top:0;" data-key="pilot_chart_title">COâ‚‚ DeÄŸiÅŸimi (Kontrol vs Aktif)</h3>
          <div style="background:#050505; height:220px; border-radius:12px; position:relative; overflow:hidden; border: 1px solid var(--stroke);">
            <canvas id="pilotChart"></canvas>
          </div>
          <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:14px;">
            <span class="badge warn" id="pilotBadge1">Kontrol: +?? ppm</span>
            <span class="badge good" id="pilotBadge2">Aktif: -?? ppm</span>
            <span class="badge" id="pilotBadge3">KPI: %?? iyileÅŸme</span>
          </div>
          <p style="font-size:12px; color:var(--muted2); margin-top:10px;" data-key="pilot_tip">
            *Ä°pucu: â€œSÄ±nÄ±f mÂ² / Ã¶ÄŸrenci sayÄ±sÄ± / havalandÄ±rma durumuâ€ bilgisini altÄ±na eklemek jÃ¼ri puanÄ±nÄ± artÄ±rÄ±r.
          </p>
        </div>

        <div class="card">
          <h3 style="margin-top:0;" data-key="pilot_meta_title">Test KoÅŸullarÄ±</h3>
          <ul style="margin:0; padding-left:18px; color:var(--muted); line-height:1.8; font-size:14px;">
            <li><b data-key="meta_area_lbl">SÄ±nÄ±f AlanÄ±:</b> <span id="metaArea">?? mÂ²</span></li>
            <li><b data-key="meta_volume_lbl">Hacim:</b> <span id="metaVolume">?? mÂ³</span></li>
            <li><b data-key="meta_students_lbl">Ã–ÄŸrenci SayÄ±sÄ±:</b> <span id="metaStudents">??</span></li>
            <li><b data-key="meta_duration_lbl">Ders SÃ¼resi:</b> <span id="metaDuration">40 dk</span></li>
            <li><b data-key="meta_start_lbl">BaÅŸlangÄ±Ã§ COâ‚‚:</b> <span id="metaStart">520 ppm</span></li>
            <li><b data-key="meta_threshold_lbl">EÅŸik:</b> <span id="metaThreshold">800 ppm</span></li>
          </ul>

          <div style="margin-top:18px; padding-top:18px; border-top:1px solid rgba(255,255,255,0.08);">
            <h3 style="margin:0 0 10px;" data-key="pilot_table_title">Ã–lÃ§Ã¼m Tablosu</h3>
            <div class="table-wrap">
              <table>
                <thead>
                  <tr>
                    <th data-key="tbl_time">Zaman</th>
                    <th data-key="tbl_control">Kontrol GÃ¼nÃ¼ (ppm)</th>
                    <th data-key="tbl_active">Aktif GÃ¼n (ppm)</th>
                    <th data-key="tbl_note">Not</th>
                  </tr>
                </thead>
                <tbody id="pilotTableBody"></tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- COMPARISON -->
    <section id="compare" class="container alt-bg">
      <div class="kicker" data-key="compare_kicker">Ã–ZGÃœNLÃœK & KARÅILAÅTIRMA</div>
      <h2 data-key="compare_title">Alternatiflere GÃ¶re BÄ°YODUVAR</h2>
      <p class="lead" data-key="compare_desc">
        JÃ¼ri â€œneden siz?â€ sorusunun cevabÄ±nÄ± net gÃ¶rmek ister. Bu tablo puanÄ± yÃ¼kseltir.
      </p>

      <div class="card">
        <div class="table-wrap">
          <table>
            <thead>
              <tr>
                <th data-key="cmp_sol">Ã‡Ã¶zÃ¼m</th>
                <th data-key="cmp_meas">Ã–lÃ§Ã¼m</th>
                <th data-key="cmp_act">Aktif Ä°yileÅŸtirme</th>
                <th data-key="cmp_waste">AtÄ±k / Sarf</th>
                <th data-key="cmp_maint">BakÄ±m</th>
                <th data-key="cmp_edu">EÄŸitim/FarkÄ±ndalÄ±k</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><b data-key="cmp_co2mon">COâ‚‚ MonitÃ¶rÃ¼</b></td>
                <td>âœ… COâ‚‚</td>
                <td>âŒ</td>
                <td>âŒ</td>
                <td data-key="cmp_low">DÃ¼ÅŸÃ¼k</td>
                <td data-key="cmp_mid">Orta</td>
              </tr>
              <tr>
                <td><b data-key="cmp_pur">Hava Temizleyici (Filtreli)</b></td>
                <td>âš ï¸ <span data-key="cmp_partial">KÄ±smi</span></td>
                <td>âœ…</td>
                <td>âš ï¸ <span data-key="cmp_filterwaste">Filtre atÄ±ÄŸÄ±</span></td>
                <td data-key="cmp_medhigh">Orta/YÃ¼ksek</td>
                <td data-key="cmp_low">DÃ¼ÅŸÃ¼k</td>
              </tr>
              <tr>
                <td><b data-key="cmp_greenwall">Dekoratif YeÅŸil Duvar</b></td>
                <td>âŒ</td>
                <td>âš ï¸ <span data-key="cmp_passive">Pasif</span></td>
                <td>âŒ</td>
                <td data-key="cmp_mid">Orta</td>
                <td data-key="cmp_mid">Orta</td>
              </tr>
              <tr>
                <td><b style="color:var(--green)" data-key="cmp_biyoduvar">BÄ°YODUVAR</b></td>
                <td>âœ… COâ‚‚ + IAQ</td>
                <td>âœ… <span data-key="cmp_sensorfan">SensÃ¶r + Fan</span></td>
                <td>âœ… <span data-key="cmp_nowaste">Filtre atÄ±ÄŸÄ± yok</span></td>
                <td data-key="cmp_plannedlow">PlanlÄ±/Ã‡ok dÃ¼ÅŸÃ¼k (kit)</td>
                <td>âœ… <span data-key="cmp_veryhigh">Ã‡ok yÃ¼ksek</span></td>
              </tr>
            </tbody>
          </table>
        </div>

        <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:14px;">
          <span class="badge good" data-key="cmp_badge1">Ã–lÃ§ + Ä°yileÅŸtir + Ã–ÄŸret</span>
          <span class="badge" data-key="cmp_badge2">Okul odaklÄ± gÃ¼venlik</span>
          <span class="badge warn" data-key="cmp_badge3">Veriyle kanÄ±tlanabilir KPI</span>
        </div>
      </div>
    </section>

    <!-- BUILD (ADIM 2) -->
    <section id="build" class="container">
      <div class="kicker" data-key="build_kicker">ÃœRETÄ°LEBÄ°LÄ°RLÄ°K</div>
      <h2 data-key="build_title">Ãœretim & Montaj PlanÄ±</h2>
      <p class="lead" data-key="build_desc">
        JÃ¼ri iÃ§in â€œprototiplenebilirlikâ€ Ã§ok kritiktir. AÅŸaÄŸÄ±da Ã¼retim adÄ±mlarÄ±, BOM (malzeme listesi) ve okul iÃ§in bakÄ±m planÄ± yer alÄ±r.
      </p>

      <div class="grid">
        <div class="card">
          <div class="icon-box">ğŸ§©</div>
          <h3 data-key="asm_title">Montaj (7 AdÄ±m)</h3>
          <p style="font-size:14px; color:var(--muted); line-height:1.7;" data-key="asm_desc">
            ModÃ¼ler tasarÄ±m: Panel gÃ¶vdesi â†’ hidroponik katman â†’ su haznesi â†’ sensÃ¶rler â†’ fanlar â†’ test â†’ devreye alma.
          </p>
          <div style="margin-top:14px; display:flex; flex-direction:column; gap:10px; font-size:13px; color:var(--muted); line-height:1.6;">
            <div><b style="color:#fff;">1.</b> <span data-key="asm_s1">Panel gÃ¶vdesi ve Ã§erÃ§eve hazÄ±rlanÄ±r.</span></div>
            <div><b style="color:#fff;">2.</b> <span data-key="asm_s2">KeÃ§e katmanlar ve raflar sabitlenir.</span></div>
            <div><b style="color:#fff;">3.</b> <span data-key="asm_s3">Hazne, pompa ve hortum hattÄ± kurulup sÄ±zdÄ±rmazlÄ±k kontrol edilir.</span></div>
            <div><b style="color:#fff;">4.</b> <span data-key="asm_s4">MH-Z19B, MQ-135, DHT sensÃ¶rleri konumlandÄ±rÄ±lÄ±r.</span></div>
            <div><b style="color:#fff;">5.</b> <span data-key="asm_s5">Fanlar ve hava kanalÄ± montajÄ± yapÄ±lÄ±r.</span></div>
            <div><b style="color:#fff;">6.</b> <span data-key="asm_s6">Arduino eÅŸik deÄŸerleri yÃ¼klenir; kÄ±sa devre/izolasyon kontrol edilir.</span></div>
            <div><b style="color:#fff;">7.</b> <span data-key="asm_s7">Su dÃ¶ngÃ¼sÃ¼ + sensÃ¶r okuma testi sonrasÄ± sÄ±nÄ±fa alÄ±nÄ±r.</span></div>
          </div>
        </div>

        <div class="card">
          <div class="icon-box">ğŸ“¦</div>
          <h3 data-key="bom_title">BOM (Malzeme Listesi)</h3>
          <p style="font-size:14px; color:var(--muted); line-height:1.7;" data-key="bom_desc">
            AÅŸaÄŸÄ±daki liste prototip iÃ§indir. Seri Ã¼retimde birim maliyet dÃ¼ÅŸer; jÃ¼riye â€œhesaplanmÄ±ÅŸ Ã¼retimâ€ gÃ¶sterir.
          </p>
          <div class="table-wrap" style="margin-top:14px;">
            <table>
              <thead>
                <tr>
                  <th data-key="bom_item">ParÃ§a</th>
                  <th data-key="bom_qty">Adet</th>
                  <th data-key="bom_notes">Not</th>
                </tr>
              </thead>
              <tbody>
                <tr><td><b style="color:#fff;">Arduino Nano</b></td><td>1</td><td data-key="bom_n1">Kontrol birimi</td></tr>
                <tr><td><b style="color:#fff;">MH-Z19B (NDIR COâ‚‚)</b></td><td>1</td><td data-key="bom_n2">ppm bazlÄ± COâ‚‚ Ã¶lÃ§Ã¼mÃ¼</td></tr>
                <tr><td><b style="color:#fff;">MQ-135</b></td><td>1</td><td data-key="bom_n3">IAQ/VOC gÃ¶stergesi</td></tr>
                <tr><td><b style="color:#fff;">DHT11/DHT22</b></td><td>1</td><td data-key="bom_n4">SÄ±caklÄ±k + nem</td></tr>
                <tr><td><b style="color:#fff;">5V DalgÄ±Ã§ Pompa</b></td><td>1</td><td data-key="bom_n5">KapalÄ± dÃ¶ngÃ¼ su basma</td></tr>
                <tr><td><b style="color:#fff;">5V Fan</b></td><td>1-2</td><td data-key="bom_n6">EmiÅŸ / tahliye</td></tr>
                <tr><td><b style="color:#fff;">Hidroponik KeÃ§e</b></td><td>3 kat</td><td data-key="bom_n7">TopraksÄ±z ortam</td></tr>
                <tr><td><b style="color:#fff;">Hortum + BaÄŸlantÄ±lar</b></td><td>1 set</td><td data-key="bom_n8">SÄ±zdÄ±rmaz akÄ±ÅŸ</td></tr>
                <tr><td><b style="color:#fff;">Su Haznesi</b></td><td>1</td><td data-key="bom_n9">Alt tank</td></tr>
                <tr><td><b style="color:#fff;">GÃ¼Ã§ (USB/Batarya)</b></td><td>1</td><td data-key="bom_n10">Okul iÃ§i gÃ¼venli besleme</td></tr>
              </tbody>
            </table>
          </div>

          <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:14px;">
            <span class="badge" data-key="bom_badge1">DÃ¼ÅŸÃ¼k voltaj / okul uyumlu</span>
            <span class="badge warn" data-key="bom_badge2">Kalibrasyon planÄ±</span>
            <span class="badge good" data-key="bom_badge3">ModÃ¼ler Ã¼retim</span>
          </div>
        </div>

        <div class="card">
          <div class="icon-box">ğŸ§¼</div>
          <h3 data-key="maint_title">BakÄ±m Checklist (Okul)</h3>
          <p style="font-size:14px; color:var(--muted); line-height:1.7;" data-key="maint_desc">
            HaftalÄ±k bakÄ±m 10-15 dakika hedeflenir. Ä°ÅŸaretlediÄŸiniz kutular kaydedilir.
          </p>

          <div class="checklist" id="checklist">
            <label class="check-item">
              <input type="checkbox" data-check="c1">
              <div class="txt"><b data-key="c1_t">Su seviyesi</b> â€” <span data-key="c1_d">Hazne %30 altÄ±na dÃ¼ÅŸmesin; eksiltme varsa tamamla.</span></div>
            </label>
            <label class="check-item">
              <input type="checkbox" data-check="c2">
              <div class="txt"><b data-key="c2_t">KeÃ§e kontrolÃ¼</b> â€” <span data-key="c2_d">AÅŸÄ±rÄ± yosun/koku var mÄ±? Gerekirse durulama.</span></div>
            </label>
            <label class="check-item">
              <input type="checkbox" data-check="c3">
              <div class="txt"><b data-key="c3_t">Pompa & hortum</b> â€” <span data-key="c3_d">SÄ±zdÄ±rma, tÄ±kanma, ses artÄ±ÅŸÄ± var mÄ±?</span></div>
            </label>
            <label class="check-item">
              <input type="checkbox" data-check="c4">
              <div class="txt"><b data-key="c4_t">SensÃ¶r okuma</b> â€” <span data-key="c4_d">COâ‚‚ / nem deÄŸerleri mantÄ±klÄ± mÄ±? AykÄ±rÄ±lÄ±k varsa not al.</span></div>
            </label>
            <label class="check-item">
              <input type="checkbox" data-check="c5">
              <div class="txt"><b data-key="c5_t">Bitki saÄŸlÄ±ÄŸÄ±</b> â€” <span data-key="c5_d">Sararma/solma varsa besin oranÄ±nÄ± dÃ¼zenle.</span></div>
            </label>
          </div>

          <div class="check-actions">
            <button class="mini-btn" onclick="resetChecklist()" data-key="btn_reset">TÃ¼mÃ¼nÃ¼ SÄ±fÄ±rla</button>
            <button class="mini-btn" onclick="markAllChecklist()" data-key="btn_markall">TÃ¼mÃ¼nÃ¼ Ä°ÅŸaretle</button>
            <button class="mini-btn" onclick="exportChecklist()" data-key="btn_export">KayÄ±t Metni</button>
          </div>

          <div style="margin-top:12px; font-size:12px; color:var(--muted2);" id="checkExport"></div>
        </div>
      </div>
    </section>

    <!-- DASHBOARD SIMULATION -->
    <section id="demo" class="container">
        <div class="kicker" data-key="dash_kicker">VERÄ° Ä°ZLEME</div>
        <h2 data-key="dash_title" style="margin-bottom:30px;">CanlÄ± Kontrol Paneli</h2>
        <div class="card dash-grid">
            <div>
                <div style="display:flex; justify-content:space-between; margin-bottom:20px; align-items:center;">
                    <h3 style="margin:0; font-family:'Rajdhani', sans-serif; font-size:20px;">BÄ°YODUVAR v1.0</h3>
                    <div class="status-badge" id="sysStatus" data-key="status_active" style="display:inline-flex; align-items:center; gap:8px; padding:6px 14px; background:rgba(72,187,120,0.15); border:1px solid rgba(72,187,120,0.3); border-radius:20px; color:var(--green); font-size:12px; font-weight:700;">SÄ°STEM AKTÄ°F</div>
                </div>

                <div class="kpi-row">
                    <div class="kpi-card"><div class="kpi-val" id="valAir">410</div><div class="kpi-lbl">CO2 (PPM)</div></div>
                    <div class="kpi-card"><div class="kpi-val" id="valTemp">24Â°C</div><div class="kpi-lbl" data-key="lbl_temp">SICAKLIK</div></div>
                    <div class="kpi-card"><div class="kpi-val" id="valHum">55%</div><div class="kpi-lbl" data-key="lbl_hum">NEM</div></div>
                </div>
                <div style="background:#050505; height:180px; border-radius:12px; position:relative; overflow:hidden; border: 1px solid var(--stroke);">
                    <canvas id="chartCanvas"></canvas>
                </div>
            </div>
            <div style="border-left:1px solid var(--stroke); padding-left:24px; display:flex; flex-direction:column; justify-content:space-between;">
                <div>
                    <div class="kpi-lbl" style="text-align:left; margin-bottom:8px;" data-key="lbl_fan">FAN DURUMU</div>
                    <div style="display:flex; align-items:center; gap:10px;">
                        <div id="fanIcon" style="font-size:28px; animation:spin 1s linear infinite; color:var(--muted);">â˜¢</div>
                        <span id="fanText" style="font-weight:700; color:var(--muted); font-size:18px; font-family:'Rajdhani';">BEKLEMEDE</span>
                    </div>
                </div>
                <div style="margin-top:20px;">
                    <div class="kpi-lbl" style="text-align:left; margin-bottom:8px;" data-key="lbl_terminal">SÄ°STEM TERMÄ°NALÄ°</div>
                    <div class="console-log" id="consoleLog">
                        <div class="log-line">> System initialized...</div>
                    </div>
                </div>
                <button class="btn secondary" style="width:100%; font-size:13px; margin-top:20px; border-color:var(--wood); color:var(--wood);" onclick="runScenario()" data-key="btn_crowd">âš¡ SÄ±nÄ±f KalabalÄ±klaÅŸÄ±nca</button>
            </div>
        </div>
    </section>

    <!-- TEAM -->
    <section id="team" class="container alt-bg">
        <div class="kicker" style="text-align:center;" data-key="team_kicker">PROJE EKÄ°BÄ°</div>
        <h2 style="text-align:center;" data-key="team_title">BÄ°LÄ°M KAÅÄ°FLERÄ°</h2>
        <div class="team-grid">
            <div class="member"><div class="role" data-key="role_captain">KAPTAN</div><div class="name">RÃ¼zgar Ã–zmen</div></div>
            <div class="member"><div class="role" data-key="role_design">TASARIM</div><div class="name">Poyraz Bulut</div></div>
            <div class="member"><div class="role" data-key="role_idea">PROJE FÄ°KRÄ°</div><div class="name">Archer Ege Webb</div></div>
            <div class="member"><div class="role" data-key="role_pres">SUNUM</div><div class="name">Toprak Tekin</div></div>
            <div class="member"><div class="role" data-key="role_prod">TASARIM & ÃœRETÄ°M</div><div class="name">Volkan Ã–nsay</div></div>
            <div class="member" style="border-color:var(--wood); background:rgba(141, 110, 99, 0.05);"><div class="role" style="color:var(--green);" data-key="role_advisor">DANIÅMAN</div><div class="name">Gamze YaylaÃ¶nÃ¼</div></div>
        </div>
        <div style="margin-top: 60px; text-align: center;">
             <p class="kicker" data-key="lbl_supporters">GELÄ°ÅTÄ°RÄ°CÄ° & DESTEKÃ‡Ä°LER</p>
             <div class="logo-container">
                 <img src="https://i.ibb.co/ks3kbRxr/ikk-LOGO-PNG.png" alt="Ä°ngiliz KÃ¼ltÃ¼r Koleji" class="footer-logo">
                 <img src="https://i.ibb.co/3mqTvCvC/t3-logo-TR.jpg" alt="Teknofest" class="footer-logo">
             </div>
         </div>
    </section>

    <footer style="text-align:center; padding:40px; border-top:1px solid var(--stroke); font-size:12px; color:var(--muted2);">
        &copy; 2026 BÄ°LÄ°M KAÅÄ°FLERÄ° - TEKNOFEST Ä°NSANLIK YARARINA TEKNOLOJÄ°LER
    </footer>

  </main>

  <style>
    @keyframes spin { 100% { transform: rotate(360deg); } }
    @keyframes rise { 0% { transform: translateY(0); opacity:0;} 50% { opacity:1; } 100% { transform: translateY(-40px); opacity:0;} }
  </style>

  <script>
    /* --- DATA & TRANSLATION --- */
    const translations = {
        tr: {
            brand_html: "BÄ°YO<span class='highlight'>DUVAR</span>",
            nav_market: "Pazar & Analiz",
            nav_tech: "Sistem Mimarisi",
            nav_exp: "Deney PlanÄ±",
            nav_pilot: "Pilot Test",
            nav_compare: "KÄ±yas",
            nav_build: "Ãœretim",
            nav_demo: "Deney & Demo",

            tag_school: "Ã–zel Ä°ngiliz KÃ¼ltÃ¼r Koleji",
            tag_project: "Teknofest 2026 Ä°nsanlÄ±k YararÄ±na Teknoloji",
            hero_title: "Duvarlar ArtÄ±k<br><span style='color:var(--green)'>Nefes AlÄ±yor</span>",
            hero_desc: "BÄ°YODUVAR; kapalÄ± okul ve ofis ortamlarÄ±ndaki 'Hasta Bina Sendromunu' bitki tabanlÄ± aktif filtreleme ile Ã§Ã¶zen, sensÃ¶r kontrollÃ¼ yeni nesil bir ekosistemdir.",
            btn_explore: "Projeyi Ä°ncele",
            btn_demo: "CanlÄ± SimÃ¼lasyon",

            safe_kicker: "NEDEN BÄ°YODUVAR?",
            safe_title: "SÄ±nÄ±flar Ä°Ã§in GÃ¼venli TasarÄ±m",
            safe_1_title: "DÃ¼ÅŸÃ¼k Voltaj (5V)",
            safe_1_desc: "TÃ¼m elektronik bileÅŸenler USB voltajÄ±yla Ã§alÄ±ÅŸÄ±r. Ã‡ocuklar iÃ§in elektrik Ã§arpma riski sÄ±fÄ±rdÄ±r.",
            safe_2_title: "TopraksÄ±z Sistem",
            safe_2_desc: "Hidroponik keÃ§e kullanÄ±mÄ± sayesinde toprak kaynaklÄ± bÃ¶cek, mantar ve kÃ¶tÃ¼ koku oluÅŸumu tamamen engellenir.",
            safe_3_title: "SÄ±zdÄ±rmaz KapalÄ± DÃ¶ngÃ¼",
            safe_3_desc: "Su dÃ¶ngÃ¼sÃ¼ kapalÄ± bir hazne iÃ§inde gerÃ§ekleÅŸir. SÄ±nÄ±f zeminine su dÃ¶kÃ¼lmesi veya kÃ¼f oluÅŸumu engellenir.",

            tech_kicker: "TEKNÄ°K ALTYAPI",
            tech_1_title: "Hibrit SensÃ¶r AÄŸÄ±",
            tech_1_desc: "Karbon emisyonunu net Ã¶lÃ§mek iÃ§in <b>NDIR CO2 SensÃ¶rÃ¼ (MH-Z19B)</b> ve Genel Hava Kalitesi iÃ§in <b>MQ-135</b> kullanÄ±lÄ±r.",
            tech_3_title: "Otomasyon & MCU",
            tech_3_desc: "Arduino Nano, verileri anlÄ±k iÅŸleyerek eÅŸik aÅŸÄ±ldÄ±ÄŸÄ±nda tahliye fanlarÄ±nÄ± otomatik devreye sokar.",
            tech_5_title: "Ã‡oklu GÃ¼Ã§ KaynaÄŸÄ±",
            tech_5_desc: "SÄ±nÄ±f iÃ§i kullanÄ±m gÃ¶z Ã¶nÃ¼ne alÄ±narak; GÃ¼neÅŸ Paneli, Batarya ve USB adaptÃ¶rÃ¼ hibrid olarak Ã§alÄ±ÅŸÄ±r.",

            calc_title: "Hesaplamalar & Verim",
            calc_desc: "1 mÂ² yaprak alanÄ± gÃ¼nde 5-20g CO2 emer. Panelimizdeki ~0.5 mÂ² aktif alan, <b>Rizosfer (kÃ¶k) havalandÄ±rmasÄ± ve fan sistemiyle</b> 3 kat verimli Ã§alÄ±ÅŸarak 1.5 mÂ²'lik etki yaratÄ±r.",
            calc_co2: "YÄ±llÄ±k CO2 AzaltÄ±mÄ± Hedefi:",
            calc_oxy: "Tahmini O2 Ãœretimi:",

            market_kicker: "TÄ°CARÄ°LEÅME POTANSÄ°YELÄ°",
            market_title: "Pazar Analizi & Gelir Modeli",
            mkt_1_title: "Hedef Kitle",
            mkt_1_desc: "Ä°lk etapta okullar, kreÅŸler ve etÃ¼t merkezleri. ArdÄ±ndan 'Hasta Bina Sendromu' yaÅŸayan plaza ve ofisler.",
            mkt_2_title: "Rekabet AvantajÄ±",
            mkt_2_desc: "Hava temizleyiciler gibi filtre atÄ±ÄŸÄ± Ã§Ä±karmaz. Salt dekoratif yeÅŸil duvarlardan farklÄ± olarak sensÃ¶rlÃ¼ 'aktif' temizlik yapar.",
            mkt_3_title: "Maliyet & Gelir",
            mkt_3_desc: "Prototip maliyeti ~3550 TL. Seri Ã¼retimde maliyet %40 dÃ¼ÅŸecektir. Cihaz satÄ±ÅŸÄ± + AylÄ±k Besin/KeÃ§e bakÄ±m kiti aboneliÄŸi ile gelir hedeflenir.",

            exp_kicker: "BÄ°LÄ°MSEL YÃ–NTEM",
            exp_title: "Uygulama ve Deney PlanÄ±",
            exp_desc: "Projemizin okullardaki etkisini doÄŸrulamak iÃ§in tasarlanan kontrol test prosedÃ¼rÃ¼.",
            exp_s1_title: "Ortam Belirleme",
            exp_s1_desc: "Ortalama bÃ¼yÃ¼klÃ¼kte bir sÄ±nÄ±f seÃ§ilir. Ders sÃ¼resi 40 dk olarak sabitlenir.",
            exp_s2_title: "Kontrol Ã–lÃ§Ã¼mÃ¼",
            exp_s2_desc: "GÃ¼n 1: BÄ°YODUVAR kapalÄ±yken (fansÄ±z), 0. ve 40. dakikada CO2 ppm Ã¶lÃ§Ã¼lÃ¼r.",
            exp_s3_title: "Aktif Ã–lÃ§Ã¼m",
            exp_s3_desc: "GÃ¼n 2: Panel aktifken, fan hava akÄ±ÅŸÄ± devredeyken aynÄ± dakikalarda Ã¶lÃ§Ã¼m yapÄ±lÄ±r.",
            exp_s4_title: "BaÅŸarÄ± Kriteri (KPI)",
            exp_s4_desc: "40. dk sonundaki CO2 yoÄŸunluÄŸunda kontrol grubuna gÃ¶re %20 iyileÅŸme kanÄ±tlanmasÄ±.",

            pilot_kicker: "KANIT & VERÄ°",
            pilot_title: "Pilot Test SonuÃ§larÄ± (Ã–rnek Åablon)",
            pilot_desc: "JÃ¼rinin en Ã§ok puan verdiÄŸi bÃ¶lÃ¼m: AynÄ± sÄ±nÄ±fta â€œKontrol GÃ¼nÃ¼â€ ve â€œAktif GÃ¼nâ€ Ã¶lÃ§Ã¼mÃ¼nÃ¼ tablo ve grafikle kanÄ±tlamak. AÅŸaÄŸÄ±daki veriler ÅŸablondur; kendi Ã¶lÃ§Ã¼mÃ¼nÃ¼zle deÄŸiÅŸtirip ekran gÃ¶rÃ¼ntÃ¼sÃ¼ ekleyin.",
            pilot_chart_title: "COâ‚‚ DeÄŸiÅŸimi (Kontrol vs Aktif)",
            pilot_tip: "*Ä°pucu: â€œSÄ±nÄ±f mÂ² / Ã¶ÄŸrenci sayÄ±sÄ± / havalandÄ±rma durumuâ€ bilgisini altÄ±na eklemek jÃ¼ri puanÄ±nÄ± artÄ±rÄ±r.",
            pilot_meta_title: "Test KoÅŸullarÄ±",
            pilot_table_title: "Ã–lÃ§Ã¼m Tablosu",
            meta_area_lbl: "SÄ±nÄ±f AlanÄ±:",
            meta_volume_lbl: "Hacim:",
            meta_students_lbl: "Ã–ÄŸrenci SayÄ±sÄ±:",
            meta_duration_lbl: "Ders SÃ¼resi:",
            meta_start_lbl: "BaÅŸlangÄ±Ã§ COâ‚‚:",
            meta_threshold_lbl: "EÅŸik:",
            tbl_time: "Zaman",
            tbl_control: "Kontrol GÃ¼nÃ¼ (ppm)",
            tbl_active: "Aktif GÃ¼n (ppm)",
            tbl_note: "Not",

            compare_kicker: "Ã–ZGÃœNLÃœK & KARÅILAÅTIRMA",
            compare_title: "Alternatiflere GÃ¶re BÄ°YODUVAR",
            compare_desc: "JÃ¼ri â€œneden siz?â€ sorusunun cevabÄ±nÄ± net gÃ¶rmek ister. Bu tablo puanÄ± yÃ¼kseltir.",
            cmp_sol: "Ã‡Ã¶zÃ¼m",
            cmp_meas: "Ã–lÃ§Ã¼m",
            cmp_act: "Aktif Ä°yileÅŸtirme",
            cmp_waste: "AtÄ±k / Sarf",
            cmp_maint: "BakÄ±m",
            cmp_edu: "EÄŸitim/FarkÄ±ndalÄ±k",
            cmp_co2mon: "COâ‚‚ MonitÃ¶rÃ¼",
            cmp_pur: "Hava Temizleyici (Filtreli)",
            cmp_greenwall: "Dekoratif YeÅŸil Duvar",
            cmp_biyoduvar: "BÄ°YODUVAR",
            cmp_low: "DÃ¼ÅŸÃ¼k",
            cmp_mid: "Orta",
            cmp_medhigh: "Orta/YÃ¼ksek",
            cmp_partial: "KÄ±smi",
            cmp_filterwaste: "Filtre atÄ±ÄŸÄ±",
            cmp_passive: "Pasif",
            cmp_sensorfan: "SensÃ¶r + Fan",
            cmp_nowaste: "Filtre atÄ±ÄŸÄ± yok",
            cmp_plannedlow: "PlanlÄ±/Ã‡ok dÃ¼ÅŸÃ¼k (kit)",
            cmp_veryhigh: "Ã‡ok yÃ¼ksek",
            cmp_badge1: "Ã–lÃ§ + Ä°yileÅŸtir + Ã–ÄŸret",
            cmp_badge2: "Okul odaklÄ± gÃ¼venlik",
            cmp_badge3: "Veriyle kanÄ±tlanabilir KPI",

            build_kicker: "ÃœRETÄ°LEBÄ°LÄ°RLÄ°K",
            build_title: "Ãœretim & Montaj PlanÄ±",
            build_desc: "JÃ¼ri iÃ§in â€œprototiplenebilirlikâ€ Ã§ok kritiktir. AÅŸaÄŸÄ±da Ã¼retim adÄ±mlarÄ±, BOM (malzeme listesi) ve okul iÃ§in bakÄ±m planÄ± yer alÄ±r.",

            asm_title: "Montaj (7 AdÄ±m)",
            asm_desc: "ModÃ¼ler tasarÄ±m: Panel gÃ¶vdesi â†’ hidroponik katman â†’ su haznesi â†’ sensÃ¶rler â†’ fanlar â†’ test â†’ devreye alma.",
            asm_s1: "Panel gÃ¶vdesi ve Ã§erÃ§eve hazÄ±rlanÄ±r.",
            asm_s2: "KeÃ§e katmanlar ve raflar sabitlenir.",
            asm_s3: "Hazne, pompa ve hortum hattÄ± kurulup sÄ±zdÄ±rmazlÄ±k kontrol edilir.",
            asm_s4: "MH-Z19B, MQ-135, DHT sensÃ¶rleri konumlandÄ±rÄ±lÄ±r.",
            asm_s5: "Fanlar ve hava kanalÄ± montajÄ± yapÄ±lÄ±r.",
            asm_s6: "Arduino eÅŸik deÄŸerleri yÃ¼klenir; kÄ±sa devre/izolasyon kontrol edilir.",
            asm_s7: "Su dÃ¶ngÃ¼sÃ¼ + sensÃ¶r okuma testi sonrasÄ± sÄ±nÄ±fa alÄ±nÄ±r.",

            bom_title: "BOM (Malzeme Listesi)",
            bom_desc: "AÅŸaÄŸÄ±daki liste prototip iÃ§indir. Seri Ã¼retimde birim maliyet dÃ¼ÅŸer; jÃ¼riye â€œhesaplanmÄ±ÅŸ Ã¼retimâ€ gÃ¶sterir.",
            bom_item: "ParÃ§a",
            bom_qty: "Adet",
            bom_notes: "Not",
            bom_n1: "Kontrol birimi",
            bom_n2: "ppm bazlÄ± COâ‚‚ Ã¶lÃ§Ã¼mÃ¼",
            bom_n3: "IAQ/VOC gÃ¶stergesi",
            bom_n4: "SÄ±caklÄ±k + nem",
            bom_n5: "KapalÄ± dÃ¶ngÃ¼ su basma",
            bom_n6: "EmiÅŸ / tahliye",
            bom_n7: "TopraksÄ±z ortam",
            bom_n8: "SÄ±zdÄ±rmaz akÄ±ÅŸ",
            bom_n9: "Alt tank",
            bom_n10: "Okul iÃ§i gÃ¼venli besleme",
            bom_badge1: "DÃ¼ÅŸÃ¼k voltaj / okul uyumlu",
            bom_badge2: "Kalibrasyon planÄ±",
            bom_badge3: "ModÃ¼ler Ã¼retim",

            maint_title: "BakÄ±m Checklist (Okul)",
            maint_desc: "HaftalÄ±k bakÄ±m 10-15 dakika hedeflenir. Ä°ÅŸaretlediÄŸiniz kutular kaydedilir.",
            c1_t: "Su seviyesi",
            c1_d: "Hazne %30 altÄ±na dÃ¼ÅŸmesin; eksiltme varsa tamamla.",
            c2_t: "KeÃ§e kontrolÃ¼",
            c2_d: "AÅŸÄ±rÄ± yosun/koku var mÄ±? Gerekirse durulama.",
            c3_t: "Pompa & hortum",
            c3_d: "SÄ±zdÄ±rma, tÄ±kanma, ses artÄ±ÅŸÄ± var mÄ±?",
            c4_t: "SensÃ¶r okuma",
            c4_d: "COâ‚‚ / nem deÄŸerleri mantÄ±klÄ± mÄ±? AykÄ±rÄ±lÄ±k varsa not al.",
            c5_t: "Bitki saÄŸlÄ±ÄŸÄ±",
            c5_d: "Sararma/solma varsa besin oranÄ±nÄ± dÃ¼zenle.",
            btn_reset: "TÃ¼mÃ¼nÃ¼ SÄ±fÄ±rla",
            btn_markall: "TÃ¼mÃ¼nÃ¼ Ä°ÅŸaretle",
            btn_export: "KayÄ±t Metni",

            dash_kicker: "VERÄ° Ä°ZLEME",
            dash_title: "CanlÄ± Kontrol Paneli",
            status_active: "SÄ°STEM AKTÄ°F",
            lbl_temp: "SICAKLIK",
            lbl_hum: "NEM",
            lbl_fan: "FAN DURUMU",
            lbl_terminal: "SÄ°STEM TERMÄ°NALÄ°",
            btn_crowd: "âš¡ SÄ±nÄ±f KalabalÄ±klaÅŸÄ±nca",

            team_kicker: "PROJE EKÄ°BÄ°",
            team_title: "BÄ°LÄ°M KAÅÄ°FLERÄ°",
            lbl_supporters: "GELÄ°ÅTÄ°RÄ°CÄ° & DESTEKÃ‡Ä°LER",
            role_captain: "KAPTAN",
            role_design: "TASARIM",
            role_idea: "PROJE FÄ°KRÄ°",
            role_pres: "SUNUM",
            role_prod: "TASARIM & ÃœRETÄ°M",
            role_advisor: "DANIÅMAN",
            lbl_click: "SÄ°STEMÄ° Ä°NCELEMEK Ä°Ã‡Ä°N (+) BUTONLARINA TIKLAYIN",

            // Expanded Modal Data
            modal_solar_title: "GÃ¼neÅŸ Paneli",
            modal_solar_desc: "Sistem, enerji verimliliÄŸi iÃ§in panel desteklidir. Okul iÃ§i bulutlu gÃ¼nler iÃ§in USB/Batarya yedeklemesi bulunur.",
            modal_sensors_title: "GerÃ§ekÃ§i SensÃ¶r AÄŸÄ±",
            modal_sensors_desc: "Kesin CO2 ppm deÄŸerini NDIR tabanlÄ± MH-Z19B sensÃ¶rÃ¼ okur. MQ-135 ise genel sÄ±nÄ±f havasÄ±nÄ± (VOC) kontrol eder.",
            modal_cleanair_title: "Temiz Hava Ã‡Ä±kÄ±ÅŸÄ±",
            modal_cleanair_desc: "Bitkilerin kÃ¶k bÃ¶lgesindeki mikroorganizmalar (Rizosfer) tarafÄ±ndan filtrelenen temiz hava, en Ã¼st kÄ±sÄ±mdan sÄ±nÄ±fa geri verilir.",
            modal_plants_title: "Yenilebilir Bitkiler",
            modal_plants_desc: "Dikey tarÄ±m modÃ¼lÃ¼nde Maydanoz, Roka gibi bitkiler yetiÅŸtirilir. Ãœretim bilinci aÅŸÄ±lanÄ±r.",
            modal_felt_title: "TopraksÄ±z KeÃ§e",
            modal_felt_desc: "Su tutma kapasitesi yÃ¼ksek Ã¶zel keÃ§eler bitki kÃ¶klerine yataklÄ±k eder. Toprak olmadÄ±ÄŸÄ± iÃ§in okulda bÃ¶cek ve koku yapmaz.",
            modal_fan_title: "Aktif EmiÅŸ FanÄ±",
            modal_fan_desc: "Kirli hava dipten emilerek doÄŸrudan kÃ¶klere (fitoremediasyon alanÄ±na) zorlanÄ±r. Filtreleme hÄ±zÄ± 3 kat artar.",
            modal_water_title: "SÄ±zdÄ±rmaz Pompa",
            modal_water_desc: "5V dalgÄ±Ã§ pompa suyu Ã¼st rafa basar. KeÃ§elerden sÃ¼zÃ¼len su dÃ¶ngÃ¼yÃ¼ tamamlar. KapalÄ± sistem zemine su sÄ±zmasÄ±nÄ± Ã¶nler."
        },
        en: {
            brand_html: "BIO<span class='highlight'>WALL</span>",
            nav_market: "Market & Analysis",
            nav_tech: "Architecture",
            nav_exp: "Test Plan",
            nav_pilot: "Pilot Data",
            nav_compare: "Comparison",
            nav_build: "Build",
            nav_demo: "Demo & Test",

            tag_school: "British Culture College",
            tag_project: "Teknofest 2026 Humanity Tech",
            hero_title: "Walls Are Now<br><span style='color:var(--green)'>Breathing</span>",
            hero_desc: "BIOWALL is a sensor-controlled smart ecosystem that solves 'Sick Building Syndrome' in classrooms through active plant-based filtering.",
            btn_explore: "Explore Project",
            btn_demo: "Live Simulation",

            safe_kicker: "WHY BIOWALL?",
            safe_title: "Safe Design for Classrooms",
            safe_1_title: "Low Voltage (5V)",
            safe_1_desc: "All components run on USB voltage. Zero risk of electric shock for children.",
            safe_2_title: "Soilless System",
            safe_2_desc: "Hydroponic felt eliminates soil-borne bugs, mold, and bad odors entirely.",
            safe_3_title: "Leak-proof Loop",
            safe_3_desc: "Water circulates in a closed chamber, preventing classroom spills and mold.",

            tech_kicker: "TECHNICAL INFRASTRUCTURE",
            tech_1_title: "Hybrid Sensor Net",
            tech_1_desc: "Uses <b>NDIR CO2 Sensor (MH-Z19B)</b> for precise carbon reading and <b>MQ-135</b> for general Air Quality (VOC).",
            tech_3_title: "Automation & MCU",
            tech_3_desc: "Arduino Nano processes data and triggers exhaust fans automatically when thresholds are crossed.",
            tech_5_title: "Multi-Power Source",
            tech_5_desc: "Designed for indoor use; operates on a hybrid of Solar Panel, Battery, and USB adapter.",

            calc_title: "Calculations & Efficiency",
            calc_desc: "1 mÂ² leaf area absorbs 5-20g CO2 daily. Our ~0.5 mÂ² active panel acts like 1.5 mÂ² due to <b>Rhizosphere ventilation and active fans</b> (3x efficiency).",
            calc_co2: "Annual CO2 Reduction Target:",
            calc_oxy: "Est. O2 Production:",

            market_kicker: "COMMERCIALIZATION",
            market_title: "Market Analysis & Revenue",
            mkt_1_title: "Target Audience",
            mkt_1_desc: "Initially schools, kindergartens. Then plazas and offices experiencing 'Sick Building Syndrome'.",
            mkt_2_title: "Competitive Edge",
            mkt_2_desc: "No filter waste like classic purifiers. Unlike purely decorative green walls, it does 'active' measured cleaning.",
            mkt_3_title: "Cost & Revenue",
            mkt_3_desc: "Prototype ~3550 TL. Mass production cuts cost by 40%. Revenue from device sales + monthly maintenance kit subscriptions.",

            exp_kicker: "SCIENTIFIC METHOD",
            exp_title: "Testing & Experiment Plan",
            exp_desc: "Control test procedure designed to verify our project's impact in schools.",
            exp_s1_title: "Environment",
            exp_s1_desc: "An average classroom is selected. Class duration fixed at 40 mins.",
            exp_s2_title: "Control Measure",
            exp_s2_desc: "Day 1: BIOWALL off (no fans), CO2 ppm recorded at 0 and 40 mins.",
            exp_s3_title: "Active Measure",
            exp_s3_desc: "Day 2: Panel active, fan airflow engaged, measured at the same times.",
            exp_s4_title: "Success KPI",
            exp_s4_desc: "Proving a 20% improvement in CO2 concentration at min 40 compared to the control group.",

            pilot_kicker: "EVIDENCE & DATA",
            pilot_title: "Pilot Test Results (Template)",
            pilot_desc: "Highest scoring part: prove impact with 'Control Day' vs 'Active Day' in the same classroom. Values below are placeholdersâ€”replace with real measurements.",
            pilot_chart_title: "COâ‚‚ Change (Control vs Active)",
            pilot_tip: "*Tip: Add classroom area, number of students, and ventilation condition to increase judge trust.",
            pilot_meta_title: "Test Conditions",
            pilot_table_title: "Measurement Table",
            meta_area_lbl: "Area:",
            meta_volume_lbl: "Volume:",
            meta_students_lbl: "Students:",
            meta_duration_lbl: "Duration:",
            meta_start_lbl: "Start COâ‚‚:",
            meta_threshold_lbl: "Threshold:",
            tbl_time: "Time",
            tbl_control: "Control Day (ppm)",
            tbl_active: "Active Day (ppm)",
            tbl_note: "Note",

            compare_kicker: "NOVELTY & COMPARISON",
            compare_title: "BIOWALL vs Alternatives",
            compare_desc: "Judges want a clear answer to 'why you?'. This table boosts score.",
            cmp_sol: "Solution",
            cmp_meas: "Measurement",
            cmp_act: "Active Improvement",
            cmp_waste: "Waste/Consumables",
            cmp_maint: "Maintenance",
            cmp_edu: "Education/Awareness",
            cmp_co2mon: "COâ‚‚ Monitor",
            cmp_pur: "Air Purifier (Filter)",
            cmp_greenwall: "Decor Green Wall",
            cmp_biyoduvar: "BIOWALL",
            cmp_low: "Low",
            cmp_mid: "Medium",
            cmp_medhigh: "Med/High",
            cmp_partial: "Partial",
            cmp_filterwaste: "Filter waste",
            cmp_passive: "Passive",
            cmp_sensorfan: "Sensor + Fan",
            cmp_nowaste: "No filter waste",
            cmp_plannedlow: "Planned/Very low (kit)",
            cmp_veryhigh: "Very high",
            cmp_badge1: "Measure + Improve + Teach",
            cmp_badge2: "School-safe design",
            cmp_badge3: "Data-proven KPI",

            build_kicker: "MANUFACTURABILITY",
            build_title: "Build & Assembly Plan",
            build_desc: "Prototypability is critical for judges. Here are assembly steps, BOM, and classroom maintenance plan.",

            asm_title: "Assembly (7 Steps)",
            asm_desc: "Modular design: Frame â†’ hydro layer â†’ water tank â†’ sensors â†’ fans â†’ test â†’ deploy.",
            asm_s1: "Prepare frame and body.",
            asm_s2: "Fix felt layers and shelves.",
            asm_s3: "Install tank, pump and tubing; leak test.",
            asm_s4: "Place MH-Z19B, MQ-135, DHT sensors.",
            asm_s5: "Install fans and airflow path.",
            asm_s6: "Upload thresholds; check isolation and shorts.",
            asm_s7: "Run water + sensor tests, then place in class.",

            bom_title: "BOM (Bill of Materials)",
            bom_desc: "Prototype list. Unit cost drops in mass production; shows computed manufacturing to judges.",
            bom_item: "Part",
            bom_qty: "Qty",
            bom_notes: "Notes",
            bom_n1: "Controller",
            bom_n2: "COâ‚‚ ppm reading",
            bom_n3: "IAQ/VOC indicator",
            bom_n4: "Temp + humidity",
            bom_n5: "Closed-loop pumping",
            bom_n6: "Intake / exhaust",
            bom_n7: "Soilless medium",
            bom_n8: "Sealed flow",
            bom_n9: "Bottom tank",
            bom_n10: "Safe indoor supply",
            bom_badge1: "Low-voltage / school-safe",
            bom_badge2: "Calibration plan",
            bom_badge3: "Modular build",

            maint_title: "Maintenance Checklist (School)",
            maint_desc: "Target weekly maintenance: 10â€“15 minutes. Checkboxes are saved.",
            c1_t: "Water level",
            c1_d: "Do not go below 30%; top up if needed.",
            c2_t: "Felt check",
            c2_d: "Any algae/odor? Rinse if required.",
            c3_t: "Pump & tubing",
            c3_d: "Leaks, clogs, unusual noise?",
            c4_t: "Sensor readings",
            c4_d: "COâ‚‚/humidity reasonable? Note anomalies.",
            c5_t: "Plant health",
            c5_d: "Yellowing/wilting? Adjust nutrients.",
            btn_reset: "Reset all",
            btn_markall: "Mark all",
            btn_export: "Log text",

            dash_kicker: "DATA MONITORING",
            dash_title: "Live Control Panel",
            status_active: "SYSTEM ACTIVE",
            lbl_temp: "TEMP",
            lbl_hum: "HUM",
            lbl_fan: "FAN STATUS",
            lbl_terminal: "SYSTEM TERMINAL",
            btn_crowd: "âš¡ Class Crowded",

            team_kicker: "PROJECT TEAM",
            team_title: "SCIENCE EXPLORERS",
            lbl_supporters: "DEVELOPER & SUPPORTERS",
            role_captain: "CAPTAIN",
            role_design: "DESIGN",
            role_idea: "PROJECT IDEA",
            role_pres: "PRESENTATION",
            role_prod: "DESIGN & PRODUCTION",
            role_advisor: "ADVISOR",
            lbl_click: "CLICK ON (+) ICONS TO EXPLORE THE SYSTEM",

            modal_solar_title: "Solar Panel",
            modal_solar_desc: "Panel supported for energy efficiency. Includes USB/Battery backup for cloudy days indoors.",
            modal_sensors_title: "Realistic Sensor Net",
            modal_sensors_desc: "NDIR-based MH-Z19B reads precise CO2 ppm. MQ-135 monitors general classroom air (VOC).",
            modal_cleanair_title: "Clean Air Output",
            modal_cleanair_desc: "Clean air, filtered by microorganisms in the root zone (Rhizosphere), is released back into the room from the top.",
            modal_plants_title: "Edible Plants",
            modal_plants_desc: "Plants like Parsley and Arugula are grown. Instills production awareness.",
            modal_felt_title: "Soilless Felt",
            modal_felt_desc: "Special felts bed the roots. No soil means no bugs or odors in the school.",
            modal_fan_title: "Active Intake Fan",
            modal_fan_desc: "Dirty air is forced directly into the roots (phytoremediation area). Filtration speed increases 3x.",
            modal_water_title: "Leak-proof Pump",
            modal_water_desc: "5V submersible pump pushes water up. Closed loop prevents floor spills."
        }
    };

    let currentLang = 'tr';
    const langBtn = document.getElementById('langToggle');

    langBtn.addEventListener('click', () => {
        currentLang = currentLang === 'tr' ? 'en' : 'tr';
        updateLanguage();
        // pilot chart labels + badges redraw
        drawPilotChart();
        renderPilotTable();
        updateChecklistTexts();
    });

    function updateLanguage() {
        const elements = document.querySelectorAll('[data-key]');
        elements.forEach(el => {
            const key = el.getAttribute('data-key');
            if(translations[currentLang][key]) {
                el.innerHTML = translations[currentLang][key];
            }
        });
        langBtn.textContent = currentLang === 'tr' ? 'TR | EN' : 'EN | TR';
    }

    /* --- INITIALIZE VISUALS --- */
    function initPlants() {
        const rows = [document.getElementById('row1'), document.getElementById('row2'), document.getElementById('row3')];
        rows.forEach(row => {
            for(let i=0; i<4; i++) {
                const div = document.createElement('div');
                div.className = 'plant-visual';
                div.innerHTML = `<div class="leaf" style="transform:rotate(-20deg); left:5px; height:18px"></div>
                                 <div class="leaf" style="transform:rotate(0deg); left:14px; height:24px; bottom:2px"></div>
                                 <div class="leaf" style="transform:rotate(20deg); right:5px; height:18px"></div>`;
                row.appendChild(div);
            }
        });
    }
    initPlants();

    /* --- MODAL LOGIC --- */
    const modal = document.getElementById('infoModal');
    const mTitle = document.getElementById('mTitle');
    const mDesc = document.getElementById('mDesc');
    const mIcon = document.getElementById('mIcon');

    const icons = {
        solar: 'â˜€ï¸',
        sensors: 'ğŸ“¡',
        cleanair: 'ğŸ’¨',
        plants: 'ğŸ¥—',
        felt: 'ğŸ§½',
        fan: 'â˜¢ï¸',
        water: 'ğŸ’§'
    };

    window.openInfo = function(type) {
        mTitle.setAttribute('data-key', `modal_${type}_title`);
        mDesc.setAttribute('data-key', `modal_${type}_desc`);
        mIcon.innerText = icons[type];
        mTitle.innerText = translations[currentLang][`modal_${type}_title`];
        mDesc.innerText = translations[currentLang][`modal_${type}_desc`];
        modal.classList.add('active');
    }

    window.closeModal = function() { modal.classList.remove('active'); }
    modal.addEventListener('click', (e) => { if(e.target === modal) closeModal(); });

    /* --- DASHBOARD LOGIC --- */
    const valAir = document.getElementById('valAir');
    const fanIcon = document.getElementById('fanIcon');
    const fanText = document.getElementById('fanText');
    const chartCanvas = document.getElementById('chartCanvas');
    const consoleLog = document.getElementById('consoleLog');
    const cctx = chartCanvas.getContext('2d');

    function resizeCanvas(){
        chartCanvas.width = chartCanvas.parentElement.offsetWidth;
        chartCanvas.height = 180;
    }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    let co2 = 410;
    const history = Array(60).fill(410);
    let isScenarioRunning = false;

    function log(msg) {
        const div = document.createElement('div');
        div.className = 'log-line';
        div.innerText = `> ${msg}`;
        consoleLog.appendChild(div);
        consoleLog.scrollTop = consoleLog.scrollHeight;
        if(consoleLog.children.length > 6) consoleLog.removeChild(consoleLog.firstChild);
    }

    function drawChart() {
        const w = chartCanvas.width;
        const h = chartCanvas.height;
        cctx.clearRect(0,0,w,h);
        cctx.strokeStyle = "rgba(255,255,255,0.05)";
        cctx.beginPath(); cctx.moveTo(0, h/2); cctx.lineTo(w, h/2); cctx.stroke();

        cctx.strokeStyle = co2 > 600 ? '#f56565' : '#48bb78';
        cctx.lineWidth = 3;
        cctx.beginPath();
        const step = w / (history.length - 1);
        history.forEach((val, i) => {
            const y = h - ((val - 300) / 700) * h;
            if(i===0) cctx.moveTo(0, y); else cctx.lineTo(i*step, y);
        });
        cctx.stroke();
    }

    function simulateLoop() {
        if(isScenarioRunning) return;
        co2 += (Math.random() * 8 - 4);
        if(co2 < 400) co2 += 2;

        if(co2 > 550) {
            co2 -= 5;
            fanIcon.style.animationPlayState = 'running'; fanIcon.style.color = 'var(--red)';
            if(fanText.innerText !== "AKTÄ°F") { fanText.innerText = "AKTÄ°F"; log(currentLang === 'tr' ? "CO2 arttÄ±. Fanlar devrede." : "CO2 increased. Fans active."); }
        } else {
            fanIcon.style.animationPlayState = 'paused'; fanIcon.style.color = 'var(--muted)';
            if(fanText.innerText !== "BEKLEMEDE") { fanText.innerText = "BEKLEMEDE"; }
        }
        valAir.innerText = Math.floor(co2);
        history.push(co2); history.shift(); drawChart();
    }

    setInterval(simulateLoop, 800);

    /* --- SCENARIO EXECUTION --- */
    function delay(ms) { return new Promise(res => setTimeout(res, ms)); }

    window.runScenario = async function() {
        if(isScenarioRunning) return;
        isScenarioRunning = true;
        const btn = document.querySelector('button[onclick="runScenario()"]');
        const originalBtnText = btn.innerText;
        btn.disabled = true;
        btn.innerText = currentLang === 'tr' ? "SimÃ¼lasyon SÃ¼rÃ¼yor..." : "Simulation Running...";

        const langMap = {
            tr: [
                "âš ï¸ SÄ±nÄ±fta hareketlilik: CO2 yÃ¼kseliyor...",
                "ğŸ“ˆ Karbon eÅŸiÄŸi aÅŸÄ±ldÄ± (>800ppm)!",
                "ğŸš¨ Mikrodenetleyici: Durum 'KÃ–TÃœ' olarak gÃ¼ncellendi.",
                "âš™ï¸ FANLAR %100 gÃ¼ce alÄ±nÄ±yor. Kirli hava emiliyor.",
                "ğŸ’§ POMPA devrede: KÃ¶k nemi dengeleniyor.",
                "ğŸ“‰ KÃ¶k florasÄ± (Rizosfer) toksinleri parÃ§alÄ±yor...",
                "âœ… Hava kalitesi Ä°YÄ° seviyeye dÃ¼ÅŸtÃ¼. Sistem beklemede."
            ],
            en: [
                "âš ï¸ Motion detected: CO2 is rising...",
                "ğŸ“ˆ Carbon threshold exceeded (>800ppm)!",
                "ğŸš¨ Microcontroller: Status updated to 'POOR'.",
                "âš™ï¸ FANS at 100% power. Dirty air intake active.",
                "ğŸ’§ PUMP active: Root humidity balancing.",
                "ğŸ“‰ Root flora (Rhizosphere) breaking down toxins...",
                "âœ… Air quality dropped to GOOD. System on standby."
            ]
        };
        const msgs = langMap[currentLang];

        log(msgs[0]); await delay(3000);
        log(msgs[1]);
        for(let i=0; i<15; i++) {
            co2 += 25 + Math.random()*15;
            valAir.innerText = Math.floor(co2);
            history.push(co2); history.shift(); drawChart();
            await delay(250);
        }

        log(msgs[2]); await delay(2500);

        fanIcon.style.animationPlayState = 'running';
        fanIcon.style.color = 'var(--red)';
        fanIcon.style.animationDuration = '0.2s';
        fanText.innerText = "TURBO";
        log(msgs[3]); await delay(4000);
        log(msgs[4]); await delay(4000);
        log(msgs[5]);

        const steps = 30; const startCo2 = co2;
        for(let i=0; i<steps; i++) {
            co2 -= (startCo2 - 410) / steps;
            co2 += (Math.random() * 6 - 3);
            valAir.innerText = Math.floor(co2);
            history.push(co2); history.shift(); drawChart();
            await delay(300);
        }

        fanIcon.style.animationPlayState = 'paused';
        fanIcon.style.color = 'var(--muted)';
        fanIcon.style.animationDuration = '1s';
        fanText.innerText = "BEKLEMEDE";
        log(msgs[6]);

        await delay(2000);
        isScenarioRunning = false;
        btn.disabled = false;
        btn.innerText = originalBtnText;
    }

    /* --- PILOT EVIDENCE (Chart + Table) --- */
    const pilotCanvas = document.getElementById('pilotChart');
    let pilotCtx = null;

    const pilotData = {
      // Åablon deÄŸerler: KENDÄ° Ã–LÃ‡ÃœMÃœNÃœZLE DEÄÄ°ÅTÄ°RÄ°N
      times: ["0 dk", "20 dk", "40 dk"],
      control: [520, 980, 1400], // Kontrol GÃ¼nÃ¼
      active:  [520, 780, 980],  // Aktif GÃ¼n (BÄ°YODUVAR aÃ§Ä±k)
      note: ["Ders baÅŸlangÄ±cÄ±", "SÄ±nÄ±f dolu", "Ders sonu"]
    };

    function renderPilotTable(){
      const tb = document.getElementById('pilotTableBody');
      if(!tb) return;
      tb.innerHTML = "";
      for(let i=0;i<pilotData.times.length;i++){
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td style="color:#fff; font-weight:600;">${pilotData.times[i]}</td>
          <td>${pilotData.control[i]}</td>
          <td style="color:var(--green); font-weight:700;">${pilotData.active[i]}</td>
          <td>${pilotData.note[i] || ""}</td>
        `;
        tb.appendChild(tr);
      }
    }

    function resizePilotCanvas(){
      if(!pilotCanvas) return;
      pilotCanvas.width = pilotCanvas.parentElement.offsetWidth;
      pilotCanvas.height = 220;
      pilotCtx = pilotCanvas.getContext('2d');
    }

    function drawPilotChart(){
      if(!pilotCtx) return;

      const w = pilotCanvas.width;
      const h = pilotCanvas.height;
      pilotCtx.clearRect(0,0,w,h);

      // grid
      pilotCtx.strokeStyle = "rgba(255,255,255,0.06)";
      pilotCtx.lineWidth = 1;
      for(let i=1;i<=3;i++){
        pilotCtx.beginPath();
        pilotCtx.moveTo(0, (h/4)*i);
        pilotCtx.lineTo(w, (h/4)*i);
        pilotCtx.stroke();
      }

      const all = [...pilotData.control, ...pilotData.active];
      const minV = Math.min(...all, 400);
      const maxV = Math.max(...all, 1600);
      const pad = 24;

      const xStep = (w - pad*2) / (pilotData.times.length - 1);
      const y = (val)=> {
        const t = (val - minV) / (maxV - minV || 1);
        return (h - pad) - t*(h - pad*2);
      };

      function line(values, stroke){
        pilotCtx.strokeStyle = stroke;
        pilotCtx.lineWidth = 3;
        pilotCtx.beginPath();
        values.forEach((v,i)=>{
          const xx = pad + i*xStep;
          const yy = y(v);
          if(i===0) pilotCtx.moveTo(xx,yy);
          else pilotCtx.lineTo(xx,yy);
        });
        pilotCtx.stroke();

        pilotCtx.fillStyle = stroke;
        values.forEach((v,i)=>{
          const xx = pad + i*xStep;
          const yy = y(v);
          pilotCtx.beginPath();
          pilotCtx.arc(xx,yy,4,0,Math.PI*2);
          pilotCtx.fill();
        });
      }

      line(pilotData.control, "#f56565");
      line(pilotData.active, "#48bb78");

      pilotCtx.fillStyle = "rgba(255,255,255,0.7)";
      pilotCtx.font = "12px Montserrat";
      pilotData.times.forEach((t,i)=>{
        const xx = pad + i*xStep;
        pilotCtx.fillText(t, xx-10, h-8);
      });

      const cStart = pilotData.control[0], cEnd = pilotData.control[pilotData.control.length-1];
      const aStart = pilotData.active[0],  aEnd = pilotData.active[pilotData.active.length-1];
      const controlRise = cEnd - cStart;
      const activeRise = aEnd - aStart;
      const improvement = controlRise > 0 ? Math.max(0, (controlRise - activeRise) / controlRise) : 0;

      const b1 = document.getElementById('pilotBadge1');
      const b2 = document.getElementById('pilotBadge2');
      const b3 = document.getElementById('pilotBadge3');
      if(b1) b1.textContent = (currentLang==='tr' ? `Kontrol: +${Math.round(controlRise)} ppm` : `Control: +${Math.round(controlRise)} ppm`);
      if(b2) b2.textContent = (currentLang==='tr' ? `Aktif: +${Math.round(activeRise)} ppm` : `Active: +${Math.round(activeRise)} ppm`);
      if(b3) b3.textContent = (currentLang==='tr' ? `KPI: %${Math.round(improvement*100)} iyileÅŸme` : `KPI: ${Math.round(improvement*100)}% improvement`);
    }

    function initPilot(){
      if(!pilotCanvas) return;
      resizePilotCanvas();
      renderPilotTable();
      drawPilotChart();
    }

    window.addEventListener('resize', ()=>{
      resizePilotCanvas();
      drawPilotChart();
    });

    initPilot();

    /* --- CHECKLIST (save to localStorage) --- */
    const CHECK_KEY = "biyoduvar_checklist_v1";

    function loadChecklist(){
      try{
        const saved = JSON.parse(localStorage.getItem(CHECK_KEY) || "{}");
        document.querySelectorAll('[data-check]').forEach(cb=>{
          cb.checked = !!saved[cb.getAttribute('data-check')];
        });
      }catch(e){}
    }

    function saveChecklist(){
      const obj = {};
      document.querySelectorAll('[data-check]').forEach(cb=>{
        obj[cb.getAttribute('data-check')] = cb.checked;
      });
      localStorage.setItem(CHECK_KEY, JSON.stringify(obj));
    }

    function updateChecklistTexts(){
      // metinler data-key ile zaten deÄŸiÅŸiyor; burada sadece export alanÄ±nÄ± temizleyelim
      const exp = document.getElementById('checkExport');
      if(exp) exp.textContent = "";
    }

    document.addEventListener('change', (e)=>{
      if(e.target && e.target.matches('[data-check]')) saveChecklist();
    });

    window.resetChecklist = function(){
      document.querySelectorAll('[data-check]').forEach(cb=> cb.checked = false);
      saveChecklist();
      exportChecklist();
    }

    window.markAllChecklist = function(){
      document.querySelectorAll('[data-check]').forEach(cb=> cb.checked = true);
      saveChecklist();
      exportChecklist();
    }

    window.exportChecklist = function(){
      const exp = document.getElementById('checkExport');
      if(!exp) return;

      const items = [
        {k:'c1', t: translations[currentLang].c1_t},
        {k:'c2', t: translations[currentLang].c2_t},
        {k:'c3', t: translations[currentLang].c3_t},
        {k:'c4', t: translations[currentLang].c4_t},
        {k:'c5', t: translations[currentLang].c5_t},
      ];

      const states = {};
      document.querySelectorAll('[data-check]').forEach(cb=>{
        states[cb.getAttribute('data-check')] = cb.checked;
      });

      const done = items.filter(it => states[it.k]).map(it=>`âœ… ${it.t}`);
      const todo = items.filter(it => !states[it.k]).map(it=>`â¬œ ${it.t}`);

      const title = (currentLang==='tr') ? "BakÄ±m KaydÄ±:" : "Maintenance Log:";
      exp.textContent = `${title}  ${done.concat(todo).join("  |  ")}`;
    }

    loadChecklist();

    /* --- PROGRESS BAR --- */
    const prog = document.getElementById('prog');
    window.addEventListener('scroll', ()=>{
      const h = document.documentElement;
      const sc = h.scrollTop || document.body.scrollTop;
      const max = (h.scrollHeight - h.clientHeight) || 1;
      prog.style.width = `${Math.min(100, (sc / max) * 100)}%`;
    });

    /* --- AIR PARTICLES --- */
    const air = document.getElementById('air'); const ctx = air.getContext('2d');
    let W, H;
    function resizeAir(){ W=air.width=window.innerWidth; H=air.height=window.innerHeight; }
    window.addEventListener('resize', resizeAir); resizeAir();
    const parts = Array.from({length:60}, ()=>({x:Math.random()*W, y:Math.random()*H, r:Math.random()*2, s:Math.random()*0.5+0.1}));
    function drawAirLoop(){
        ctx.clearRect(0,0,W,H); ctx.fillStyle = "rgba(255,255,255,0.2)";
        parts.forEach(p=>{ p.y -= p.s; if(p.y<0) p.y=H; ctx.beginPath(); ctx.arc(p.x, p.y, p.r, 0, Math.PI*2); ctx.fill(); });
        requestAnimationFrame(drawAirLoop);
    }
    drawAirLoop();
  </script>
</body>
</html>
